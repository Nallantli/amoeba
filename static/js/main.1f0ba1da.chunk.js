(this.webpackJsonpamoeba=this.webpackJsonpamoeba||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),i=n(11),o=n.n(i),c=(n(16),n(1)),u=n(4),h=n(5),s=n(3),f=n(8),l=n(7),d=n(0),y=function(t){var e=t.x,n=t.y,a=t.id,i=t.value,o=t.win,c=t.canPlayerMove,u=t.onClick,h=t.view,s=t.config,f=h.spaceSize;return Object(d.jsx)("button",{id:a,onClick:0===i&&!o&&c?u:function(){},className:"space",style:{position:"absolute",width:"".concat(f,"px"),height:"".concat(f,"px"),left:"".concat(e*f,"px"),top:"".concat(n*f,"px")},children:i>0&&r.a.createElement(s.playerIcons[i-1],{color:s.playerColors[i-1]})})},v=function(t){var e=t.chunkData,n=t.posX,a=t.posY,r=t.chunkX,i=t.chunkY,o=t.win,c=t.canPlayerMove,u=t.view,h=t.selectSquare,s=t.config,f=u.spaceSize;return Object(d.jsx)("div",{className:"chunk",style:{position:"absolute",width:"".concat(3*f,"px"),height:"".concat(3*f,"px"),left:"".concat(3*n*f,"px"),top:"".concat(3*a*f,"px")},children:e.map((function(t,e){return t.map((function(t,n){return Object(d.jsx)(y,{id:"".concat(e+3*r,"_").concat(n+3*i),value:t,x:e,y:n,onClick:function(){return h({detail:{x:3*r+e,y:3*i+n}})},win:o,canPlayerMove:c,view:u,config:s},"".concat(e+3*r,"_").concat(n+3*i))}))}))})},p=n(6),x=n(9);function g(t,e){for(;t<0;)t+=e;return t%e}function w(t){return 1===t||0===t?t:w(t-2)+w(t-1)}function m(t,e,n,a){for(var r=[];O(t,e,n)===a;)r.push({x:e,y:n}),e++;return{ps:r,type:0}}function b(t,e,n,a){for(var r=[];O(t,e,n)===a;)r.push({x:e,y:n}),n++;return{ps:r,type:1}}function j(t,e,n,a){for(var r=[];O(t,e,n)===a;)r.push({x:e,y:n}),n++,e++;return{ps:r,type:2}}function L(t,e,n,a){for(var r=[];O(t,e,n)===a;)r.push({x:e,y:n}),n--,e++;return{ps:r,type:3}}function O(t,e,n){var a=t.map[Math.floor(e/3)+"_"+Math.floor(n/3)];return void 0===a?0:a.chunkData[g(e,3)][g(n,3)]}function S(t){for(var e=t.playerCount,n=t.winLength,a=t.placements,r=[],i=0;i<e;i++)r.push([]);a.forEach((function(e){[m(t,e.x,e.y,e.v),b(t,e.x,e.y,e.v),j(t,e.x,e.y,e.v),L(t,e.x,e.y,e.v)].forEach((function(t){if(!(t.ps.length<n)){var a=!1,i=[];r[e.v-1].forEach((function(e,n){e.type===t.type&&function(t,e){for(var n=0;n<t.length;n++)for(var a=0;a<e.length;a++)if(t[n].x===e[a].x&&t[n].y===e[a].y)return!0;return!1}(e.ps,t.ps)&&(e.ps.length<t.ps.length?i.push(n):a=!0)})),i.forEach((function(t){return r[e.v-1][t].old=!0})),a||r[e.v-1].push(t)}}))}));var o=[];return r.map((function(t){return t.filter((function(t){return void 0===t.old}))})),r.forEach((function(t){var e=0;t.forEach((function(t){e+=w(t.ps.length-n+2)})),o.push(e)})),o}function k(t,e,n){var a=t.map;if(void 0!==a[e+"_"+n])return t;for(var r=[],i=0;i<3;i++){r[i]=[];for(var o=0;o<3;o++)r[i][o]=0}return Object(c.a)(Object(c.a)({},t),{},{map:Object(c.a)(Object(c.a)({},a),{},Object(x.a)({},"".concat(e,"_").concat(n),{x:e,y:n,chunkData:r}))})}var M=function(t){return Object(d.jsxs)("div",{id:"limit-dialog",children:["Turns Left: ",t.moveLimit]})},E=function(t){return Object(d.jsx)("div",{id:"score-dialog",children:Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{children:t.playerScores.map((function(e,n){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{width:"40px"},children:r.a.createElement(t.config.playerIcons[n],{color:t.config.playerColors[n]})}),Object(d.jsx)("td",{children:e})]},n)}))})})})};function C(t,e,n){if(void 0!==t.AIs[t.turn]){var a,r=null===(a=t.AIs[t.turn])||void 0===a?void 0:a.doTurn(t);setTimeout((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.dispatchEvent(new CustomEvent("selectSquare",{detail:{x:null===r||void 0===r?void 0:r.x,y:null===r||void 0===r?void 0:r.y}}))}),n)}}var T=function(t){Object(f.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).boardRef=void 0,a.addChunk=a.addChunk.bind(Object(s.a)(a)),a.selectSquare=a.selectSquare.bind(Object(s.a)(a)),a.postMove=a.postMove.bind(Object(s.a)(a)),a.handleScroll=a.handleScroll.bind(Object(s.a)(a)),a.handleTouchStart=a.handleTouchStart.bind(Object(s.a)(a)),a.handleTouchMove=a.handleTouchMove.bind(Object(s.a)(a)),a.handleTouchEnd=a.handleTouchEnd.bind(Object(s.a)(a)),a.handleZoom=a.handleZoom.bind(Object(s.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(s.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(s.a)(a)),a.boardRef=r.a.createRef(),a.state={gameState:a.props.gameState,view:{offsetX:0,offsetY:0,spaceSize:50},xLow:0,xHigh:0,yLow:0,yHigh:0,isTouching:!1,touchStart:{x:0,y:0},touchOffset:{x:0,y:0},shiftScroll:!1,ctrlScroll:!1},a}return Object(h.a)(n,[{key:"handleZoom",value:function(t){var e=this.state.view,n=e.offsetX,a=e.offsetY,r=e.spaceSize,i=Math.max(15,Math.min(160,r*t));this.setState({view:{offsetX:n*(i/r),offsetY:a*(i/r),spaceSize:i}})}},{key:"handleScroll",value:function(t){t.preventDefault();var e=this.state,n=e.shiftScroll,a=e.ctrlScroll,r=this.state.view,i=r.offsetX,o=r.offsetY,c=r.spaceSize;if(a)this.handleZoom(Math.exp(t.deltaY/200));else{var u=.25*t.deltaX,h=.25*t.deltaY;this.setState({view:{offsetX:i-(n?h:u),offsetY:o-(n?u:h),spaceSize:c}})}}},{key:"handleTouchMove",value:function(t){t.preventDefault();var e="undefined"===typeof t.originalEvent?t:t.originalEvent,n=e.touches[0]||e.changedTouches[0];this.setState({touchOffset:{x:n.pageX,y:n.pageY}})}},{key:"handleTouchStart",value:function(t){t.preventDefault();var e="undefined"===typeof t.originalEvent?t:t.originalEvent,n=e.touches[0]||e.changedTouches[0];this.setState({isTouching:!0,touchStart:{x:n.pageX,y:n.pageY},touchOffset:{x:n.pageX,y:n.pageY}})}},{key:"handleTouchEnd",value:function(t){t.preventDefault();var e="undefined"===typeof t.originalEvent?t:t.originalEvent,n=e.touches[0]||e.changedTouches[0],a=this.state,r=a.view,i=a.touchStart,o=a.touchOffset,c=r.offsetX,u=r.offsetY,h=r.spaceSize;this.setState({isTouching:!1,view:{offsetX:c+(o.x-i.x),offsetY:u+(o.y-i.y),spaceSize:h}},(function(){Math.pow(i.x-n.pageX,2)+Math.pow(i.y-n.pageY,2)<10&&void 0!==n.target.click&&n.target.click()}))}},{key:"handleKeyDown",value:function(t){switch(t.key){case"Shift":this.setState({shiftScroll:!0});break;case"Control":this.setState({ctrlScroll:!0})}}},{key:"handleKeyUp",value:function(t){switch(t.key){case"Shift":this.setState({shiftScroll:!1});break;case"Control":this.setState({ctrlScroll:!1})}}},{key:"componentDidMount",value:function(){var t,e=this;window.addEventListener("wheel",this.handleScroll,{passive:!1}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!1}),window.addEventListener("touchcancel",this.handleTouchEnd,{passive:!1}),window.addEventListener("keydown",this.handleKeyDown,{passive:!1}),window.addEventListener("keyup",this.handleKeyUp,{passive:!1}),null===(t=this.boardRef.current)||void 0===t||t.addEventListener("selectSquare",this.selectSquare);for(var n=Object(c.a)({},this.state),a=-1;a<=1;a++)for(var r=-1;r<=1;r++)n=Object(c.a)(Object(c.a)({},n),this.addChunk(a,r,n));this.setState(Object(c.a)({},n),(function(){return C(e.state.gameState,e.boardRef,e.props.config.turnDelay)}))}},{key:"postMove",value:function(t){var e=this,n=this.props.config,a=this.state.gameState,r=a.isLimited,i=a.playerCount,o=a.placements,u=a.turn,h=function(t,e){var n=e.x,a=e.y,r=t,i=r.winLength,o=r.isLimited,u=r.moveLimit;if(o){var h=S(t);return 0===u?Object(c.a)(Object(c.a)({},t),{},{win:!0,playerScores:h}):Object(c.a)(Object(c.a)({},t),{},{win:!1,playerScores:h})}var s=O(t,n,a);if(0===s)return Object(c.a)(Object(c.a)({},t),{},{win:!1,playerScores:[]});for(var f=0;f<i;f++){for(var l=[],d=0;d<i;d++){var y=O(t,n-f+d,a);if(void 0===y)break;if(y!==s)break;l.push(n-f+d+"_"+a)}if(l.length===i)return l.forEach((function(t){var e;return null===(e=document.getElementById(t))||void 0===e?void 0:e.classList.add("win-square")})),Object(c.a)(Object(c.a)({},t),{},{win:!0,playerScores:[]})}for(var v=0;v<i;v++){for(var p=[],x=0;x<i;x++){var g=O(t,n,a-v+x);if(void 0===g)break;if(g!==s)break;p.push(n+"_"+(a-v+x))}if(p.length===i)return p.forEach((function(t){var e;return null===(e=document.getElementById(t))||void 0===e?void 0:e.classList.add("win-square")})),Object(c.a)(Object(c.a)({},t),{},{win:!0,playerScores:[]})}for(var w=0;w<i;w++){for(var m=[],b=0;b<i;b++){var j=O(t,n-w+b,a-w+b);if(void 0===j)break;if(j!==s)break;m.push(n-w+b+"_"+(a-w+b))}if(m.length===i)return m.forEach((function(t){var e;return null===(e=document.getElementById(t))||void 0===e?void 0:e.classList.add("win-square")})),Object(c.a)(Object(c.a)({},t),{},{win:!0,playerScores:[]})}for(var L=0;L<i;L++){for(var k=[],M=0;M<i;M++){var E=O(t,n-L+M,a+L-M);if(void 0===E)break;if(E!==s)break;k.push(n-L+M+"_"+(a+L-M))}if(k.length===i)return k.forEach((function(t){var e;return null===(e=document.getElementById(t))||void 0===e?void 0:e.classList.add("win-square")})),Object(c.a)(Object(c.a)({},t),{},{win:!0,playerScores:[]})}return Object(c.a)(Object(c.a)({},t),{},{win:!1,playerScores:[]})}(a,t),s=h.win,f=h.playerScores,l=Object(c.a)({},this.state);if(s){var d=g(r?f.map((function(t,e){return{e:t,i:e}})).sort((function(t,e){return e.e-t.e}))[0].i:u-1,i);o.forEach((function(t){var e=document.getElementById(t.x+"_"+t.y);e.classList.add("amoeba-square");var r=[];"none"!==window.getComputedStyle(e).boxShadow&&r.push(window.getComputedStyle(e).boxShadow),0===O(a,t.x,t.y+1)&&r.push("".concat(n.playerColors[d]," 0rem 5rem")),0===O(a,t.x+1,t.y)&&0===O(a,t.x,t.y+1)&&0===O(a,t.x+1,t.y+1)&&r.push("".concat(n.playerColors[d]," 5rem 5rem")),0===O(a,t.x+1,t.y)&&r.push("".concat(n.playerColors[d]," 5rem 0rem")),0===O(a,t.x+1,t.y)&&0===O(a,t.x,t.y-1)&&0===O(a,t.x+1,t.y-1)&&r.push("".concat(n.playerColors[d]," 5rem -5rem")),0===O(a,t.x,t.y-1)&&r.push("".concat(n.playerColors[d]," 0rem -5rem")),0===O(a,t.x-1,t.y)&&0===O(a,t.x,t.y+1)&&0===O(a,t.x-1,t.y+1)&&r.push("".concat(n.playerColors[d]," -5rem 5rem")),0===O(a,t.x-1,t.y)&&r.push("".concat(n.playerColors[d]," -5rem 0rem")),0===O(a,t.x-1,t.y)&&0===O(a,t.x,t.y-1)&&0===O(a,t.x-1,t.y-1)&&r.push("".concat(n.playerColors[d]," -5rem -5rem")),e.style.boxShadow=r.join(", ")}))}else{for(var y=Math.floor(t.x/3),v=Math.floor(t.y/3),p=-1;p<=1;p++)for(var x=-1;x<=1;x++)0===p&&0===x||(l=Object(c.a)(Object(c.a)({},l),this.addChunk(y+p,v+x,l)));this.setState(l,(function(){return C(e.state.gameState,e.boardRef,e.props.config.turnDelay)}))}}},{key:"selectSquare",value:function(t){var e,n=this,a=this.state.gameState,r=t.detail,i=r.x,o=r.y;null===(e=document.getElementById(i+"_"+o))||void 0===e||e.classList.add("space-pressed");var u=function(t,e,n){var a=t,r=a.map,i=a.turn,o=a.moveLimit,u=a.placements,h=a.playerCount,s=i+1,f=r[Math.floor(e/3)+"_"+Math.floor(n/3)];return f.chunkData[g(e,3)][g(n,3)]=s,{v:s,gameState:t=Object(c.a)(Object(c.a)({},t),{},{map:Object(c.a)(Object(c.a)({},r),{},Object(x.a)({},Math.floor(e/3)+"_"+Math.floor(n/3),f)),placements:[].concat(Object(p.a)(u),[{x:e,y:n,v:s}]),turn:(i+1)%h,moveLimit:o-(i===h-1?1:0)})}}(a,i,o),h=u.v,s=u.gameState;this.setState({gameState:s},(function(){n.postMove({x:i,y:o,v:h})}))}},{key:"addChunk",value:function(t,e,n){var a=n||this.state,r=a.gameState,i=a.xLow,o=a.yLow,c=a.xHigh,u=a.yHigh,h=a.view,s=h.offsetX,f=h.offsetY,l=h.spaceSize;return t<i&&(i=t,s-=3*l/2),e<o&&(o=e,f-=3*l/2),t>c&&(c=t,s+=3*l/2),e>u&&(u=e,f+=3*l/2),{gameState:k(r,t,e),xLow:i,yLow:o,xHigh:c,yHigh:u,view:{offsetX:s,offsetY:f,spaceSize:l}}}},{key:"render",value:function(){var t=this,e=this.props.config,n=this.state,a=n.view,r=n.view,i=r.offsetX,o=r.offsetY,c=r.spaceSize,u=n.isTouching,h=n.touchOffset,s=n.touchStart,f=n.xLow,l=n.yLow,y=n.xHigh,p=n.yHigh,x=n.gameState,w=x.moveLimit,m=x.playerScores,b=x.win,j=x.turn,L=x.map,O=x.AIs,S=x.isLimited,k=x.playerCount,C=3*c*(y-f+1),T=3*c*(p-l+1);return Object(d.jsxs)("div",{id:"screen",children:[Object(d.jsx)("div",{id:"player-bar",style:{background:b?e.playerColors[g(S?m.map((function(t,e){return{e:t,i:e}})).sort((function(t,e){return e.e-t.e}))[0].i:j-1,k)]:e.playerColors[j]}}),Object(d.jsxs)("div",{id:"zoom-bar",children:[Object(d.jsx)("button",{id:"zoom-in",onClick:function(){return t.handleZoom(1.5)},children:"+"}),Object(d.jsx)("button",{id:"zoom-out",onClick:function(){return t.handleZoom(2/3)},children:"-"})]}),S&&Object(d.jsx)(M,{moveLimit:w}),S&&Object(d.jsx)(E,{playerScores:m,config:e}),Object(d.jsx)("button",{id:"reset-button",onClick:function(){return window.location.reload()},children:"Reset Game"}),Object(d.jsx)("div",{className:"board",ref:this.boardRef,children:Object(d.jsx)("div",{className:"chunk-container",style:{position:"absolute",width:"".concat(C,"px"),height:"".concat(T,"px"),marginTop:"".concat(-T/2+o+(u?h.y-s.y:0),"px"),marginLeft:"".concat(-C/2+i+(u?h.x-s.x:0),"px")},children:Object.values(L).map((function(n){return Object(d.jsx)(v,{config:e,posX:n.x-f,posY:n.y-l,chunkX:n.x,chunkY:n.y,chunkData:n.chunkData,selectSquare:t.selectSquare,win:b,canPlayerMove:void 0===O[j],view:a},n.x+"_"+n.y)}))})})]})}}]),n}(r.a.Component),Y=function(t){return Object(d.jsx)("svg",{className:"player-icon",id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",children:Object(d.jsx)("path",{fill:t.color,d:"M500,0C223.86,0,0,223.86,0,500s223.86,500,500,500,500-223.86,500-500S776.14,0,500,0Zm0,800c-165.69,0-300-134.31-300-300S334.31,200,500,200,800,334.31,800,500,665.69,800,500,800Z"})})},z=function(t){return Object(d.jsx)("svg",{className:"player-icon",id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",children:Object(d.jsx)("polygon",{fill:t.color,points:"1000 858.58 641.42 500 1000 141.42 858.58 0 500 358.58 141.42 0 0 141.42 358.58 500 0 858.58 141.42 1000 500 641.42 858.58 1000 1000 858.58"})})},D=function(t){return Object(d.jsx)("svg",{className:"player-icon",id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",children:Object(d.jsx)("path",{fill:t.color,d:"M500,0,0,500l500,500,500-500Zm0,717.16L282.84,500,500,282.84,717.16,500Z",transform:"translate(0 0)"})})},I=function(t){return Object(d.jsx)("svg",{className:"player-icon",id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",children:Object(d.jsx)("path",{fill:t.color,d:"M0,0V1000H1000V0ZM800,800H200V200H800Z"})})};var X=function(t){var e=t.params,n=t.gameState,a=e.get("delay")?parseInt(e.get("delay"),10):0;return Object(d.jsx)(T,{config:{playerColors:["#5588ff","#ff3344","#33ff44","#ffcc33"],playerIcons:[Y,z,D,I],turnDelay:a},gameState:n,params:e})},_=function(t){t&&t instanceof Function&&n.e(5).then(n.bind(null,21)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))},q=r.a.lazy((function(){return n.e(3).then(n.bind(null,22))})),B=r.a.lazy((function(){return n.e(4).then(n.bind(null,23))})),Z=function(t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(r.a.Suspense,{fallback:function(){return Object(d.jsx)("div",{})},children:["default"===t.theme&&Object(d.jsx)(q,{}),"win98"===t.theme&&Object(d.jsx)(B,{})]}),t.children]})},H=function(){function t(e,n,a){Object(u.a)(this,t),this.winLength=void 0,this.icon=void 0,this.pCount=void 0,this.winLength=e,this.icon=n,this.pCount=a}return Object(h.a)(t,[{key:"doTurn",value:function(t){throw new Error("Method not implemented.")}}]),t}();function A(t,e,n,a,r,i,o,c){for(var u=0,h=-1;o(t,e+h*r,n+h*i)===a;){for(var s=0,f=e+h*r,l=n+h*i;o(t,f,l)===a||f===e&&l===n;)s++,f+=r,l+=i;if(s<c)for(var d=s;d<=c;d++){var y=e+(h+d)*r,v=n+(h+d)*i;if(o(t,y,v)!==a&&0!==o(t,y,v)){s=0;break}}s>u&&(u=s),h--}return u}for(var R=function(t){Object(f.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"doTurn",value:function(t){var e=this,n=t.placements,a=0,r=0,i=[];if(n.forEach((function(n){for(var o=function(o){for(var c=function(c){if(0===o&&0===c)return"continue";if(0!==O(t,n.x+o,n.y+c))return"continue";var u=!1;if(i.forEach((function(t){t.x===n.x+o&&t.y===n.y+c&&(u=!0)})),u)return"continue";var h={x:n.x+o,y:n.y+c,att:Math.max(A(t,n.x+o,n.y+c,e.icon,1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,-1,O,e.winLength)),def:Math.max.apply(Math,Object(p.a)(Array(e.pCount).fill(0).map((function(a,r){return Math.max(A(t,n.x+o,n.y+c,r+1,1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,-1,O,e.winLength))})).filter((function(t,n){return n!==e.icon-1}))))};h.att>a&&(a=h.att),h.def>r&&(r=h.def),i.push(h)},u=-1;u<=1;u++)c(u)},c=-1;c<=1;c++)o(c)})),0===i.length)return{x:0,y:0};var o=0,c=0,u=i.filter((function(t){return t.att===a}));u.forEach((function(t){t.def>o&&(o=t.def)})),u=u.filter((function(t){return t.def===o}));var h=i.filter((function(t){return t.def===r}));return h.forEach((function(t){t.att>c&&(c=t.att)})),h=h.filter((function(t){return t.att===c})),a-r>0?u[Math.floor(Math.random()*u.length)]:h[Math.floor(Math.random()*h.length)]}}]),n}(H),K=function(t){Object(f.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"doTurn",value:function(t){var e=this,n=t.placements,a=0,r=0,i=[];if(n.forEach((function(n){for(var o=function(o){for(var c=function(c){if(0===o&&0===c)return"continue";if(0!==O(t,n.x+o,n.y+c))return"continue";var u=!1;if(i.forEach((function(t){t.x===n.x+o&&t.y===n.y+c&&(u=!0)})),u)return"continue";var h={x:n.x+o,y:n.y+c,att:Math.max(A(t,n.x+o,n.y+c,e.icon,1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,-1,O,e.winLength)),def:Math.max.apply(Math,Object(p.a)(Array(e.pCount).fill(0).map((function(a,r){return Math.max(A(t,n.x+o,n.y+c,r+1,1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,-1,O,e.winLength))})).filter((function(t,n){return n!==e.icon-1}))))};h.att>a&&(a=h.att),h.def>r&&(r=h.def),i.push(h)},u=-1;u<=1;u++)c(u)},c=-1;c<=1;c++)o(c)})),0===i.length)return{x:0,y:0};var o=0,c=0,u=i.filter((function(t){return t.att===a}));u.forEach((function(t){t.def>o&&(o=t.def)})),u=u.filter((function(t){return t.def===o}));var h=i.filter((function(t){return t.def===r}));return h.forEach((function(t){t.att>c&&(c=t.att)})),h=h.filter((function(t){return t.att===c})),a-r>-1?u[Math.floor(Math.random()*u.length)]:h[Math.floor(Math.random()*h.length)]}}]),n}(H),N=function(t){Object(f.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"doTurn",value:function(t){var e=this,n=t.placements,a=0,r=0,i=[];if(n.forEach((function(n){for(var o=function(o){for(var c=function(c){if(0===o&&0===c)return"continue";if(0!==O(t,n.x+o,n.y+c))return"continue";var u=!1;if(i.forEach((function(t){t.x===n.x+o&&t.y===n.y+c&&(u=!0)})),u)return"continue";var h={x:n.x+o,y:n.y+c,att:Math.max(A(t,n.x+o,n.y+c,e.icon,1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,-1,O,e.winLength)),def:Math.max.apply(Math,Object(p.a)(Array(e.pCount).fill(0).map((function(a,r){return Math.max(A(t,n.x+o,n.y+c,r+1,1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,-1,O,e.winLength))})).filter((function(t,n){return n!==e.icon-1}))))};h.att>a&&(a=h.att),h.def>r&&(r=h.def),i.push(h)},u=-1;u<=1;u++)c(u)},c=-1;c<=1;c++)o(c)})),0===i.length)return{x:0,y:0};var o=0,c=0,u=i.filter((function(t){return t.att===a}));u.forEach((function(t){t.def>o&&(o=t.def)})),u=u.filter((function(t){return t.def===o}));var h=i.filter((function(t){return t.def===r}));return h.forEach((function(t){t.att>c&&(c=t.att)})),h=h.filter((function(t){return t.att===c})),a-r>1?u[Math.floor(Math.random()*u.length)]:h[Math.floor(Math.random()*h.length)]}}]),n}(H),P=function(t){Object(f.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"doTurn",value:function(t){var e=this,n=t.placements,a=0,r=0,i=[];if(n.forEach((function(n){for(var o=function(o){for(var c=function(c){if(0===o&&0===c)return"continue";if(0!==O(t,n.x+o,n.y+c))return"continue";var u=!1;if(i.forEach((function(t){t.x===n.x+o&&t.y===n.y+c&&(u=!0)})),u)return"continue";var h={x:n.x+o,y:n.y+c,att:Math.max(A(t,n.x+o,n.y+c,e.icon,1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,e.icon,1,-1,O,e.winLength)),def:Math.max.apply(Math,Object(p.a)(Array(e.pCount).fill(0).map((function(a,r){return Math.max(A(t,n.x+o,n.y+c,r+1,1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,0,O,e.winLength),A(t,n.x+o,n.y+c,r+1,-1,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,0,-1,O,e.winLength),A(t,n.x+o,n.y+c,r+1,1,-1,O,e.winLength))})).filter((function(t,n){return n!==e.icon-1}))))};h.att>a&&(a=h.att),h.def>r&&(r=h.def),i.push(h)},u=-1;u<=1;u++)c(u)},c=-1;c<=1;c++)o(c)})),0===i.length)return{x:0,y:0};var o=0,c=0,u=i.filter((function(t){return t.att===a}));u.forEach((function(t){t.def>o&&(o=t.def)})),u=u.filter((function(t){return t.def===o}));var h=i.filter((function(t){return t.def===r}));return h.forEach((function(t){t.att>c&&(c=t.att)})),h=h.filter((function(t){return t.att===c})),a>=this.winLength?u[Math.floor(Math.random()*u.length)]:r>=this.winLength?h[Math.floor(Math.random()*h.length)]:a>=r?u[Math.floor(Math.random()*u.length)]:h[Math.floor(Math.random()*h.length)]}}]),n}(H),F=new URLSearchParams(window.location.search),U=F.get("win")?parseInt(F.get("win"),10):5,V=F.get("count")?parseInt(F.get("count"),10):2,J=F.get("limit")?parseInt(F.get("limit"),10):0,G=[],Q=0;Q<V;Q++)switch(F.get("p".concat(Q+1))){case"fuzzy":G.push(new P(U,Q+1,V));break;case"elk":G.push(new R(U,Q+1,V));break;case"elkatt":G.push(new K(U,Q+1,V));break;case"elkdef":G.push(new N(U,Q+1,V));break;default:G.push(void 0)}var W={turn:0,placements:[],map:{},playerCount:V,moveLimit:J>0?J:0,winLength:U,isLimited:J>0,AIs:G,win:!1,playerScores:Array(V).fill(0)};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(Z,{theme:F.get("theme")||"default",children:Object(d.jsx)(X,{gameState:W,params:F})})}),document.getElementById("root")),_()}},[[18,1,2]]]);
//# sourceMappingURL=main.1f0ba1da.chunk.js.map