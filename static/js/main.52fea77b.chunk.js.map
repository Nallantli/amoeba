{"version":3,"sources":["Space.tsx","Chunk.tsx","AI.tsx","ais/utils.tsx","ais/Fuzzy.tsx","ais/Elk.tsx","ais/ElkAtt.tsx","ais/ElkDef.tsx","Board.tsx","Menu.js","assets/CircleIcon.tsx","assets/CrossIcon.tsx","assets/DiamondIcon.tsx","assets/SquareIcon.tsx","App.tsx","reportWebVitals.ts","ThemeSelector.tsx","index.tsx"],"names":["Space","props","x","y","id","value","win","canPlayerMove","onClick","view","config","spaceSize","className","style","position","width","height","left","top","React","createElement","playerIcons","color","playerColors","Chunk","chunkData","posX","posY","chunkX","chunkY","selectSquare","map","col","cell","detail","AI","getValue","winLength","icon","pCount","this","_","Error","countLine","v","dx","dy","l","i","d","nx","ny","j","nx2","ny2","Fuzzy","placements","highAtt","highDef","heatMap","forEach","e","flag","h","o","att","Math","max","def","Array","fill","filter","push","length","maxDef","maxAtt","attMap","defMap","floor","random","Elk","ElkAtt","ElkDef","flatten","fib","n","Limit","moveLimit","ScoreScreen","playerScores","score","Board","boardRef","bind","addChunk","postMove","handleScroll","handleTouchStart","handleTouchMove","handleTouchEnd","sharePoint","horizontalCount","verticalCount","diagonalUp","diagonalDown","calculateLimitScore","handleZoom","handleKeyDown","handleKeyUp","createRef","AIs","playerCount","params","get","undefined","state","turn","offsetX","offsetY","xLow","xHigh","yLow","yHigh","limit","isTouching","touchStart","touchOffset","shiftScroll","ctrlScroll","a","b","ps","type","newSpaceSize","min","setState","matches","placement","removes","p","old","m","preventDefault","exp","deltaY","deltaX","evt","originalEvent","touch","touches","changedTouches","pageX","pageY","pow","target","click","key","window","addEventListener","passive","current","newState","pos","doTurn","setTimeout","dispatchEvent","CustomEvent","turnDelay","chunk","lastMove","isLimited","check","squares","s","document","getElementById","classList","add","checkWin","winner","sort","element","shadow","getComputedStyle","boxShadow","join","background","ref","marginTop","marginLeft","Object","values","Component","MenuItem","handleColorChange","console","log","isPlayer","Icon","player_icons","player_colors","onChange","Menu","players","player","index","CircleIcon","data-name","xmlns","viewBox","CrossIcon","points","DiamondIcon","transform","SquareIcon","App","parseInt","delay","location","pathname","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","DefaultTheme","lazy","Win98Theme","ThemeSelector","Suspense","fallback","theme","children","URLSearchParams","search","ReactDOM","render","StrictMode"],"mappings":"4MAeaA,EAAQ,SAACC,GAAuB,IACpCC,EAA+DD,EAA/DC,EAAGC,EAA4DF,EAA5DE,EAAGC,EAAyDH,EAAzDG,GAAIC,EAAqDJ,EAArDI,MAAOC,EAA8CL,EAA9CK,IAAKC,EAAyCN,EAAzCM,cAAeC,EAA0BP,EAA1BO,QAASC,EAAiBR,EAAjBQ,KAAMC,EAAWT,EAAXS,OACpDC,EAAcF,EAAdE,UACR,OAAQ,wBACPP,GAAIA,EACJI,QAAmB,IAAVH,IAAgBC,GAAOC,EAAgBC,EAAU,aAC1DI,UAAU,QACVC,MAAO,CACNC,SAAU,WACVC,MAAM,GAAD,OAAKJ,EAAL,MACLK,OAAO,GAAD,OAAKL,EAAL,MACNM,KAAK,GAAD,OAAKf,EAAIS,EAAT,MACJO,IAAI,GAAD,OAAKf,EAAIQ,EAAT,OATG,SAYNN,EAAQ,GAAKc,IAAMC,cAAcV,EAAOW,YAAYhB,EAAQ,GAAI,CAAEiB,MAAOZ,EAAOa,aAAalB,EAAQ,QCzB3FmB,EAAQ,SAACvB,GAWf,IACEwB,EAA0FxB,EAA1FwB,UAAWC,EAA+EzB,EAA/EyB,KAAMC,EAAyE1B,EAAzE0B,KAAMC,EAAmE3B,EAAnE2B,OAAQC,EAA2D5B,EAA3D4B,OAAQvB,EAAmDL,EAAnDK,IAAKC,EAA8CN,EAA9CM,cAAeE,EAA+BR,EAA/BQ,KAAMqB,EAAyB7B,EAAzB6B,aAAcpB,EAAWT,EAAXS,OAC/EC,EAAcF,EAAdE,UACR,OACC,qBACCC,UAAU,QACVC,MAAO,CACNC,SAAU,WACVC,MAAM,GAAD,OArBgB,EAqBCJ,EAAjB,MACLK,OAAO,GAAD,OAtBe,EAsBEL,EAAjB,MACNM,KAAK,GAAD,OAvBiB,EAuBZS,EAAmBf,EAAxB,MACJO,IAAI,GAAD,OAxBkB,EAwBbS,EAAmBhB,EAAxB,OAPL,SAUEc,EAAUM,KAAI,SAACC,EAAK9B,GACpB,OAAO8B,EAAID,KAAI,SAACE,EAAM9B,GAAP,OACd,cAAC,EAAD,CAECC,GAAE,UAAKF,EA/BY,EA+BR0B,EAAT,YAA+BzB,EA/Bd,EA+BkB0B,GACrCxB,MAAO4B,EACP/B,EAAGA,EACHC,EAAGA,EACHK,QAAS,kBAAMsB,EAAa,CAAEI,OAAQ,CAAEhC,EAnCrB,EAmCwB0B,EAAqB1B,EAAGC,EAnChD,EAmCmD0B,EAAqB1B,MAC3FG,IAAKA,EACLC,cAAeA,EACfE,KAAMA,EACNC,OAAQA,GAVT,UACSR,EA9BW,EA8BP0B,EADb,YACmCzB,EA9Bf,EA8BmB0B,aCjC/BM,EAAb,WAKC,WACCC,EACAC,EACAC,EACAC,GACE,yBATHH,cASE,OARFC,eAQE,OAPFC,UAOE,OANFC,YAME,EACDC,KAAKJ,SAAWA,EAChBI,KAAKH,UAAYA,EACjBG,KAAKF,KAAOA,EACZE,KAAKD,OAASA,EAdhB,0CAgBC,SAAOE,GACN,MAAM,IAAIC,MAAM,+BAjBlB,KCAO,SAASC,EAAUzC,EAAWC,EAAWyC,EAAWC,EAAYC,EAAYV,EAA4CC,GAG9H,IAFA,IAAIU,EAAI,EACJC,GAAK,EACFZ,EAASlC,EAAI8C,EAAIH,EAAI1C,EAAI6C,EAAIF,KAAQF,GAAG,CAI9C,IAHA,IAAIK,EAAI,EACJC,EAAKhD,EAAI8C,EAAIH,EACbM,EAAKhD,EAAI6C,EAAIF,EACVV,EAASc,EAAIC,KAAQP,GAAMM,IAAOhD,GAAKiD,IAAOhD,GACpD8C,IACAC,GAAML,EACNM,GAAML,EAEP,GAAIG,EAAIZ,EACP,IAAK,IAAIe,EAAIH,EAAGG,GAAKf,EAAWe,IAAK,CACpC,IAAIC,EAAMnD,GAAK8C,EAAII,GAAKP,EACpBS,EAAMnD,GAAK6C,EAAII,GAAKN,EACxB,GAAIV,EAASiB,EAAKC,KAASV,GAA4B,IAAvBR,EAASiB,EAAKC,GAAY,CACzDL,EAAI,EACJ,OAICA,EAAIF,IACPA,EAAIE,GAELD,IAED,OAAOD,ECxBD,IAAMQ,EAAb,4JACC,SAAOC,GAAoD,IAAD,OACrDC,EAAU,EACVC,EAAU,EACVC,EAAiE,GAqDrE,GApDAH,EAAWI,SAAQ,SAAAC,GAClB,IADwB,IAAD,WACd3D,GACR,IAFsB,eAEbC,GACR,GAAU,IAAND,GAAiB,IAANC,EACd,iBAED,GAAwC,IAApC,EAAKiC,SAASyB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,GAChC,iBAED,IAAI2D,GAAO,EAMX,GALAH,EAAQC,SAAQ,SAAAG,GACXA,EAAE7D,IAAM2D,EAAE3D,EAAIA,GAAK6D,EAAE5D,IAAM0D,EAAE1D,EAAIA,IACpC2D,GAAO,MAGLA,EACH,iBAED,IAAIE,EAAI,CACP9D,EAAG2D,EAAE3D,EAAIA,EACTC,EAAG0D,EAAE1D,EAAIA,EACT8D,IAAKC,KAAKC,IACTxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,GAAI,EAAG,EAAKF,SAAU,EAAKC,WACnEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,YACnE+B,IAAKF,KAAKC,IAAL,MAAAD,KAAI,YAAQG,MAAM,EAAK9B,QAAQ+B,KAAK,GAAGvC,KAAI,SAACU,EAAGO,GACnD,OAAOkB,KAAKC,IACXxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC/DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,eAC7DkC,QAAO,SAAC9B,EAAGO,GAAJ,OAAUA,IAAM,EAAKV,KAAO,QAEnC0B,EAAEC,IAAMR,IACXA,EAAUO,EAAEC,KAETD,EAAEI,IAAMV,IACXA,EAAUM,EAAEI,KAEbT,EAAQa,KAAKR,IA9CL7D,GAAK,EAAGA,GAAK,EAAGA,IAAK,EAArBA,IADDD,GAAK,EAAGA,GAAK,EAAGA,IAAM,EAAtBA,MAmDa,IAAnByD,EAAQc,OACX,MAAO,CAAEvE,EAAG,EAAGC,EAAG,GAElB,IAAIuE,EAAS,EACTC,EAAS,EACTC,EAASjB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQR,KAC3CmB,EAAOhB,SAAQ,SAAAC,GACVA,EAAEO,IAAMM,IACXA,EAASb,EAAEO,QAGbQ,EAASA,EAAOL,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQM,KACtC,IAAIG,EAASlB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQV,KAO3C,OANAmB,EAAOjB,SAAQ,SAAAC,GACVA,EAAEI,IAAMU,IACXA,EAASd,EAAEI,QAGbY,EAASA,EAAON,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQU,KAClClB,GAAWjB,KAAKH,UACZuC,EAAOV,KAAKY,MAAMZ,KAAKa,SAAWH,EAAOH,SAE7Cf,GAAWlB,KAAKH,UACZwC,EAAOX,KAAKY,MAAMZ,KAAKa,SAAWF,EAAOJ,SAE1ChB,GAAWC,EAAUkB,EAAOV,KAAKY,MAAMZ,KAAKa,SAAWH,EAAOH,SAAWI,EAAOX,KAAKY,MAAMZ,KAAKa,SAAWF,EAAOJ,aAlF5H,GAA2BtC,GCAd6C,EAAb,4JACC,SAAOxB,GAAoD,IAAD,OACrDC,EAAU,EACVC,EAAU,EACVC,EAAiE,GAqDrE,GApDAH,EAAWI,SAAQ,SAAAC,GAClB,IADwB,IAAD,WACd3D,GACR,IAFsB,eAEbC,GACR,GAAU,IAAND,GAAiB,IAANC,EACd,iBAED,GAAwC,IAApC,EAAKiC,SAASyB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,GAChC,iBAED,IAAI2D,GAAO,EAMX,GALAH,EAAQC,SAAQ,SAAAG,GACXA,EAAE7D,IAAM2D,EAAE3D,EAAIA,GAAK6D,EAAE5D,IAAM0D,EAAE1D,EAAIA,IACpC2D,GAAO,MAGLA,EACH,iBAED,IAAIE,EAAI,CACP9D,EAAG2D,EAAE3D,EAAIA,EACTC,EAAG0D,EAAE1D,EAAIA,EACT8D,IAAKC,KAAKC,IACTxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,GAAI,EAAG,EAAKF,SAAU,EAAKC,WACnEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,YACnE+B,IAAKF,KAAKC,IAAL,MAAAD,KAAI,YAAQG,MAAM,EAAK9B,QAAQ+B,KAAK,GAAGvC,KAAI,SAACU,EAAGO,GACnD,OAAOkB,KAAKC,IACXxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC/DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,eAC7DkC,QAAO,SAAC9B,EAAGO,GAAJ,OAAUA,IAAM,EAAKV,KAAO,QAEnC0B,EAAEC,IAAMR,IACXA,EAAUO,EAAEC,KAETD,EAAEI,IAAMV,IACXA,EAAUM,EAAEI,KAEbT,EAAQa,KAAKR,IA9CL7D,GAAK,EAAGA,GAAK,EAAGA,IAAK,EAArBA,IADDD,GAAK,EAAGA,GAAK,EAAGA,IAAM,EAAtBA,MAmDa,IAAnByD,EAAQc,OACX,MAAO,CAAEvE,EAAG,EAAGC,EAAG,GAElB,IAAIuE,EAAS,EACTC,EAAS,EACTC,EAASjB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQR,KAC3CmB,EAAOhB,SAAQ,SAAAC,GACVA,EAAEO,IAAMM,IACXA,EAASb,EAAEO,QAGbQ,EAASA,EAAOL,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQM,KACtC,IAAIG,EAASlB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQV,KAO3C,OANAmB,EAAOjB,SAAQ,SAAAC,GACVA,EAAEI,IAAMU,IACXA,EAASd,EAAEI,QAGbY,EAASA,EAAON,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQU,KAC9BlB,EAAUC,EAAW,EAAIkB,EAAOV,KAAKY,MAAMZ,KAAKa,SAAWH,EAAOH,SAAWI,EAAOX,KAAKY,MAAMZ,KAAKa,SAAWF,EAAOJ,aA5EjI,GAAyBtC,GCAZ8C,EAAb,4JACC,SAAOzB,GAAoD,IAAD,OACrDC,EAAU,EACVC,EAAU,EACVC,EAAiE,GAqDrE,GApDAH,EAAWI,SAAQ,SAAAC,GAClB,IADwB,IAAD,WACd3D,GACR,IAFsB,eAEbC,GACR,GAAU,IAAND,GAAiB,IAANC,EACd,iBAED,GAAwC,IAApC,EAAKiC,SAASyB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,GAChC,iBAED,IAAI2D,GAAO,EAMX,GALAH,EAAQC,SAAQ,SAAAG,GACXA,EAAE7D,IAAM2D,EAAE3D,EAAIA,GAAK6D,EAAE5D,IAAM0D,EAAE1D,EAAIA,IACpC2D,GAAO,MAGLA,EACH,iBAED,IAAIE,EAAI,CACP9D,EAAG2D,EAAE3D,EAAIA,EACTC,EAAG0D,EAAE1D,EAAIA,EACT8D,IAAKC,KAAKC,IACTxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,GAAI,EAAG,EAAKF,SAAU,EAAKC,WACnEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,YACnE+B,IAAKF,KAAKC,IAAL,MAAAD,KAAI,YAAQG,MAAM,EAAK9B,QAAQ+B,KAAK,GAAGvC,KAAI,SAACU,EAAGO,GACnD,OAAOkB,KAAKC,IACXxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC/DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,eAC7DkC,QAAO,SAAC9B,EAAGO,GAAJ,OAAUA,IAAM,EAAKV,KAAO,QAEnC0B,EAAEC,IAAMR,IACXA,EAAUO,EAAEC,KAETD,EAAEI,IAAMV,IACXA,EAAUM,EAAEI,KAEbT,EAAQa,KAAKR,IA9CL7D,GAAK,EAAGA,GAAK,EAAGA,IAAK,EAArBA,IADDD,GAAK,EAAGA,GAAK,EAAGA,IAAM,EAAtBA,MAmDa,IAAnByD,EAAQc,OACX,MAAO,CAAEvE,EAAG,EAAGC,EAAG,GAElB,IAAIuE,EAAS,EACTC,EAAS,EACTC,EAASjB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQR,KAC3CmB,EAAOhB,SAAQ,SAAAC,GACVA,EAAEO,IAAMM,IACXA,EAASb,EAAEO,QAGbQ,EAASA,EAAOL,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQM,KACtC,IAAIG,EAASlB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQV,KAO3C,OANAmB,EAAOjB,SAAQ,SAAAC,GACVA,EAAEI,IAAMU,IACXA,EAASd,EAAEI,QAGbY,EAASA,EAAON,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQU,KAC9BlB,EAAUC,GAAY,EAAIkB,EAAOV,KAAKY,MAAMZ,KAAKa,SAAWH,EAAOH,SAAWI,EAAOX,KAAKY,MAAMZ,KAAKa,SAAWF,EAAOJ,aA5ElI,GAA4BtC,GCAf+C,EAAb,4JACC,SAAO1B,GAAoD,IAAD,OACrDC,EAAU,EACVC,EAAU,EACVC,EAAiE,GAqDrE,GApDAH,EAAWI,SAAQ,SAAAC,GAClB,IADwB,IAAD,WACd3D,GACR,IAFsB,eAEbC,GACR,GAAU,IAAND,GAAiB,IAANC,EACd,iBAED,GAAwC,IAApC,EAAKiC,SAASyB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,GAChC,iBAED,IAAI2D,GAAO,EAMX,GALAH,EAAQC,SAAQ,SAAAG,GACXA,EAAE7D,IAAM2D,EAAE3D,EAAIA,GAAK6D,EAAE5D,IAAM0D,EAAE1D,EAAIA,IACpC2D,GAAO,MAGLA,EACH,iBAED,IAAIE,EAAI,CACP9D,EAAG2D,EAAE3D,EAAIA,EACTC,EAAG0D,EAAE1D,EAAIA,EACT8D,IAAKC,KAAKC,IACTxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,EAAG,EAAG,EAAKF,SAAU,EAAKC,WACjEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,EAAG,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,MAAO,GAAI,EAAG,EAAKF,SAAU,EAAKC,WACnEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,WAClEM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG,EAAKmC,KAAM,GAAI,EAAG,EAAKF,SAAU,EAAKC,YACnE+B,IAAKF,KAAKC,IAAL,MAAAD,KAAI,YAAQG,MAAM,EAAK9B,QAAQ+B,KAAK,GAAGvC,KAAI,SAACU,EAAGO,GACnD,OAAOkB,KAAKC,IACXxB,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC7DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,EAAG,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,GAAI,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC/DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,WAC9DM,EAAUkB,EAAE3D,EAAIA,EAAG2D,EAAE1D,EAAIA,EAAG6C,EAAI,EAAG,GAAI,EAAG,EAAKZ,SAAU,EAAKC,eAC7DkC,QAAO,SAAC9B,EAAGO,GAAJ,OAAUA,IAAM,EAAKV,KAAO,QAEnC0B,EAAEC,IAAMR,IACXA,EAAUO,EAAEC,KAETD,EAAEI,IAAMV,IACXA,EAAUM,EAAEI,KAEbT,EAAQa,KAAKR,IA9CL7D,GAAK,EAAGA,GAAK,EAAGA,IAAK,EAArBA,IADDD,GAAK,EAAGA,GAAK,EAAGA,IAAM,EAAtBA,MAmDa,IAAnByD,EAAQc,OACX,MAAO,CAAEvE,EAAG,EAAGC,EAAG,GAElB,IAAIuE,EAAS,EACTC,EAAS,EACTC,EAASjB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQR,KAC3CmB,EAAOhB,SAAQ,SAAAC,GACVA,EAAEO,IAAMM,IACXA,EAASb,EAAEO,QAGbQ,EAASA,EAAOL,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQM,KACtC,IAAIG,EAASlB,EAAQY,QAAO,SAAAV,GAAC,OAAIA,EAAEO,MAAQV,KAO3C,OANAmB,EAAOjB,SAAQ,SAAAC,GACVA,EAAEI,IAAMU,IACXA,EAASd,EAAEI,QAGbY,EAASA,EAAON,QAAO,SAAAV,GAAC,OAAIA,EAAEI,MAAQU,KAC9BlB,EAAUC,EAAW,EAAIkB,EAAOV,KAAKY,MAAMZ,KAAKa,SAAWH,EAAOH,SAAWI,EAAOX,KAAKY,MAAMZ,KAAKa,SAAWF,EAAOJ,aA5EjI,GAA4BtC,GCU5B,SAASgD,EAAQjF,EAAW+C,GAC3B,KAAO/C,EAAI,GACVA,GAAK+C,EACN,OAAO/C,EAAI+C,EAIZ,SAASmC,EAAIC,GACZ,OAAU,IAANA,GAAiB,IAANA,EACPA,EAEAD,EAAIC,EAAI,GAAKD,EAAIC,EAAI,GAG9B,IAAMC,EAAQ,SAACrF,GACd,OAAQ,sBAAKG,GAAG,eAAR,yBAAoCH,EAAMsF,cAG7CC,EAAc,SAACvF,GACpB,OACC,qBAAKG,GAAG,eAAR,SACC,gCACC,gCACEH,EAAMwF,aAAa1D,KAAI,SAAC2D,EAAO1C,GAAR,OAAc,+BAAY,oBAAInC,MAAO,CAAEE,MAAO,QAApB,SAA+BI,IAAMC,cAAcnB,EAAMS,OAAOW,YAAY2B,GAAI,CAAE1B,MAAOrB,EAAMS,OAAOa,aAAayB,OAAW,6BAAK0C,MAAtI1C,aAyCvC2C,EAAb,kDAEC,WAAY1F,GAAoB,IAAD,uBAC9B,cAAMA,IAFP2F,cAC+B,EAG9B,EAAKxD,SAAW,EAAKA,SAASyD,KAAd,gBAChB,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBAChB,EAAK/D,aAAe,EAAKA,aAAa+D,KAAlB,gBACpB,EAAKE,SAAW,EAAKA,SAASF,KAAd,gBAChB,EAAKG,aAAe,EAAKA,aAAaH,KAAlB,gBACpB,EAAKI,iBAAmB,EAAKA,iBAAiBJ,KAAtB,gBACxB,EAAKK,gBAAkB,EAAKA,gBAAgBL,KAArB,gBACvB,EAAKM,eAAiB,EAAKA,eAAeN,KAApB,gBACtB,EAAKO,WAAa,EAAKA,WAAWP,KAAhB,gBAClB,EAAKQ,gBAAkB,EAAKA,gBAAgBR,KAArB,gBACvB,EAAKS,cAAgB,EAAKA,cAAcT,KAAnB,gBACrB,EAAKU,WAAa,EAAKA,WAAWV,KAAhB,gBAClB,EAAKW,aAAe,EAAKA,aAAaX,KAAlB,gBACpB,EAAKY,oBAAsB,EAAKA,oBAAoBZ,KAAzB,gBAC3B,EAAKa,WAAa,EAAKA,WAAWb,KAAhB,gBAClB,EAAKc,cAAgB,EAAKA,cAAcd,KAAnB,gBACrB,EAAKe,YAAc,EAAKA,YAAYf,KAAjB,gBAEnB,EAAKD,SAAWzE,IAAM0F,YAGtB,IADA,IAAIC,EAA0B,GACrB9D,EAAI,EAAGA,EAAI/C,EAAM8G,YAAa/D,IACtC,OAAQ/C,EAAM+G,OAAOC,IAAb,WAAqBjE,EAAI,KAChC,IAAK,QACJ8D,EAAItC,KAAK,IAAIjB,EAAM,EAAKnB,SAAUnC,EAAMoC,UAAWW,EAAI,EAAG/C,EAAM8G,cAChE,MACD,IAAK,MACJD,EAAItC,KAAK,IAAIQ,EAAI,EAAK5C,SAAUnC,EAAMoC,UAAWW,EAAI,EAAG/C,EAAM8G,cAC9D,MACD,IAAK,SACJD,EAAItC,KAAK,IAAIS,EAAO,EAAK7C,SAAUnC,EAAMoC,UAAWW,EAAI,EAAG/C,EAAM8G,cACjE,MACD,IAAK,SACJD,EAAItC,KAAK,IAAIU,EAAO,EAAK9C,SAAUnC,EAAMoC,UAAWW,EAAI,EAAG/C,EAAM8G,cACjE,MACD,QACCD,EAAItC,UAAK0C,GAvCkB,OA4C9B,EAAKC,MAAQ,CACZpF,IAAK,GACLyB,WAAY,GACZ4D,KAAM,EACNN,IAAKA,EACLxG,KAAK,EACLG,KAAM,CACL4G,QAAS,EACTC,QAAS,EACT3G,UAAW,IAEZ4G,KAAM,EACNC,MAAO,EACPC,KAAM,EACNC,MAAO,EACPjC,aAAcpB,MAAMpE,EAAM8G,aAAazC,KAAK,GAC5CiB,UAAWtF,EAAM0H,MACjBC,YAAY,EACZC,WAAY,CAAE3H,EAAG,EAAGC,EAAG,GACvB2H,YAAa,CAAE5H,EAAG,EAAGC,EAAG,GACxB4H,aAAa,EACbC,YAAY,GAjEiB,EAFhC,8CAsEC,SAAWC,EAA+BC,GACzC,IAAK,IAAIlF,EAAI,EAAGA,EAAIiF,EAAExD,OAAQzB,IAC7B,IAAK,IAAII,EAAI,EAAGA,EAAI8E,EAAEzD,OAAQrB,IAC7B,GAAI6E,EAAEjF,GAAG9C,IAAMgI,EAAE9E,GAAGlD,GAAK+H,EAAEjF,GAAG7C,IAAM+H,EAAE9E,GAAGjD,EACxC,OAAO,EAGV,OAAO,IA7ET,6BA+EC,SAAgBD,EAAWC,EAAWyC,GAErC,IADA,IAAIuF,EAAK,GACF3F,KAAKJ,SAASlC,EAAGC,KAAOyC,GAC9BuF,EAAG3D,KAAK,CAAEtE,IAAGC,MACbD,IAED,MAAO,CAAEiI,KAAIC,KAAM,KArFrB,2BAuFC,SAAclI,EAAWC,EAAWyC,GAEnC,IADA,IAAIuF,EAAK,GACF3F,KAAKJ,SAASlC,EAAGC,KAAOyC,GAC9BuF,EAAG3D,KAAK,CAAEtE,IAAGC,MACbA,IAED,MAAO,CAAEgI,KAAIC,KAAM,KA7FrB,wBA+FC,SAAWlI,EAAWC,EAAWyC,GAEhC,IADA,IAAIuF,EAAK,GACF3F,KAAKJ,SAASlC,EAAGC,KAAOyC,GAC9BuF,EAAG3D,KAAK,CAAEtE,IAAGC,MACbA,IACAD,IAED,MAAO,CAAEiI,KAAIC,KAAM,KAtGrB,0BAwGC,SAAalI,EAAWC,EAAWyC,GAElC,IADA,IAAIuF,EAAK,GACF3F,KAAKJ,SAASlC,EAAGC,KAAOyC,GAC9BuF,EAAG3D,KAAK,CAAEtE,IAAGC,MACbA,IACAD,IAED,MAAO,CAAEiI,KAAIC,KAAM,KA/GrB,wBAiHC,SAAWxF,GAAY,IAAD,EACmBJ,KAAK2E,MAAM1G,KAA3C4G,EADa,EACbA,QAASC,EADI,EACJA,QAAS3G,EADL,EACKA,UACpB0H,EAAenE,KAAKC,IAAI,GAAID,KAAKoE,IAAI,IAAK3H,EAAYiC,IAC5DJ,KAAK+F,SAAS,CACb9H,KAAM,CACL4G,QAASA,GAAWgB,EAAe1H,GACnC2G,QAASA,GAAWe,EAAe1H,GACnCA,UAAW0H,OAxHf,iCA4HC,WAIC,IAJsB,IAAD,SACc7F,KAAKvC,MAAhC8G,EADa,EACbA,YAAa1E,EADA,EACAA,UACbmB,EAAehB,KAAK2E,MAApB3D,WACJgF,EAA+E,GAC1ExF,EAAI,EAAGA,EAAI+D,EAAa/D,IAChCwF,EAAQhE,KAAK,IAEdhB,EAAWI,SAAQ,SAAC6E,GACnB,CACC,EAAKpC,gBAAgBoC,EAAUvI,EAAGuI,EAAUtI,EAAGsI,EAAU7F,GACzD,EAAK0D,cAAcmC,EAAUvI,EAAGuI,EAAUtI,EAAGsI,EAAU7F,GACvD,EAAK2D,WAAWkC,EAAUvI,EAAGuI,EAAUtI,EAAGsI,EAAU7F,GACpD,EAAK4D,aAAaiC,EAAUvI,EAAGuI,EAAUtI,EAAGsI,EAAU7F,IACrDgB,SAAQ,SAAAC,GACT,KAAIA,EAAEsE,GAAG1D,OAASpC,GAAlB,CAGA,IAAIyB,GAAO,EACP4E,EAAoB,GACxBF,EAAQC,EAAU7F,EAAI,GAAGgB,SAAQ,SAAC+E,EAAqD3F,GAClF2F,EAAEP,OAASvE,EAAEuE,MAAQ,EAAKhC,WAAWuC,EAAER,GAAItE,EAAEsE,MAC5CQ,EAAER,GAAG1D,OAASZ,EAAEsE,GAAG1D,OACtBiE,EAAQlE,KAAKxB,GAEbc,GAAO,MAIV4E,EAAQ9E,SAAQ,SAAAZ,GAAC,OAAIwF,EAAQC,EAAU7F,EAAI,GAAGI,GAAG4F,KAAM,KAClD9E,GACJ0E,EAAQC,EAAU7F,EAAI,GAAG4B,KAAKX,UAIjC,IAAI4B,EAAyB,GAS7B,OARA+C,EAAQzG,KAAI,SAAA8G,GAAC,OAAIA,EAAEtE,QAAO,SAAAV,GAAC,YAAcqD,IAAVrD,EAAE+E,UACjCJ,EAAQ5E,SAAQ,SAAAC,GACf,IAAI6B,EAAQ,EACZ7B,EAAED,SAAQ,SAAA+E,GACTjD,GAASN,EAAIuD,EAAER,GAAG1D,OAASpC,EAAY,MAExCoD,EAAajB,KAAKkB,MAEZD,IAvKT,0BAyKC,SAAa5B,GACZA,EAAEiF,iBADkB,MAEgBtG,KAAK2E,MAAjCY,EAFY,EAEZA,YAAaC,EAFD,EAECA,WAFD,EAGoBxF,KAAK2E,MAAM1G,KAA3C4G,EAHY,EAGZA,QAASC,EAHG,EAGHA,QAAS3G,EAHN,EAGMA,UAC1B,GAAIqH,EACHxF,KAAKkE,WAAWxC,KAAK6E,IAAIlF,EAAEmF,OAAS,UAC9B,CACN,IAAMC,EAAoB,IAAXpF,EAAEoF,OACXD,EAAoB,IAAXnF,EAAEmF,OACjBxG,KAAK+F,SAAS,CACb9H,KAAM,CACL4G,QAASA,GAAWU,EAAciB,EAASC,GAC3C3B,QAASA,GAAWS,EAAckB,EAASD,GAC3CrI,UAAWA,QAtLhB,6BA2LC,SAAgBkD,GACfA,EAAEiF,iBACF,IAAMI,EAAkC,qBAApBrF,EAAEsF,cAAiCtF,EAAIA,EAAEsF,cACvDC,EAAQF,EAAIG,QAAQ,IAAMH,EAAII,eAAe,GACnD9G,KAAK+F,SAAS,CACbT,YAAa,CAAE5H,EAAGkJ,EAAMG,MAAOpJ,EAAGiJ,EAAMI,WAhM3C,8BAmMC,SAAiB3F,GAChBA,EAAEiF,iBACF,IAAMI,EAAkC,qBAApBrF,EAAEsF,cAAiCtF,EAAIA,EAAEsF,cACvDC,EAAQF,EAAIG,QAAQ,IAAMH,EAAII,eAAe,GACnD9G,KAAK+F,SAAS,CACbX,YAAY,EACZC,WAAY,CAAE3H,EAAGkJ,EAAMG,MAAOpJ,EAAGiJ,EAAMI,OACvC1B,YAAa,CAAE5H,EAAGkJ,EAAMG,MAAOpJ,EAAGiJ,EAAMI,WA1M3C,4BA6MC,SAAe3F,GACdA,EAAEiF,iBACF,IAAMI,EAAkC,qBAApBrF,EAAEsF,cAAiCtF,EAAIA,EAAEsF,cACvDC,EAAQF,EAAIG,QAAQ,IAAMH,EAAII,eAAe,GAH7B,EAIoB9G,KAAK2E,MAAvC1G,EAJc,EAIdA,KAAMoH,EAJQ,EAIRA,WAAYC,EAJJ,EAIIA,YAClBT,EAAgC5G,EAAhC4G,QAASC,EAAuB7G,EAAvB6G,QAAS3G,EAAcF,EAAdE,UAC1B6B,KAAK+F,SAAS,CACbX,YAAY,EACZnH,KAAM,CACL4G,QAASA,GAAWS,EAAY5H,EAAI2H,EAAW3H,GAC/CoH,QAASA,GAAWQ,EAAY3H,EAAI0H,EAAW1H,GAC/CQ,UAAWA,KAEV,WACEuD,KAAKuF,IAAI5B,EAAW3H,EAAIkJ,EAAMG,MAAO,GAAKrF,KAAKuF,IAAI5B,EAAW1H,EAAIiJ,EAAMI,MAAO,GAAK,SAC5DtC,IAAvBkC,EAAMM,OAAOC,OAChBP,EAAMM,OAAOC,aA7NlB,2BAkOC,SAAc9F,GACb,OAAQA,EAAE+F,KACT,IAAK,QACJpH,KAAK+F,SAAS,CACbR,aAAa,IAEd,MACD,IAAK,UACJvF,KAAK+F,SAAS,CACbP,YAAY,OA3OjB,yBAgPC,SAAYnE,GACX,OAAQA,EAAE+F,KACT,IAAK,QACJpH,KAAK+F,SAAS,CACbR,aAAa,IAEd,MACD,IAAK,UACJvF,KAAK+F,SAAS,CACbP,YAAY,OAzPjB,+BA8PC,WAAqB,IAAD,SACnB6B,OAAOC,iBAAiB,QAAStH,KAAKwD,aAAc,CAAE+D,SAAS,IAC/DF,OAAOC,iBAAiB,aAActH,KAAKyD,iBAAkB,CAAE8D,SAAS,IACxEF,OAAOC,iBAAiB,YAAatH,KAAK0D,gBAAiB,CAAE6D,SAAS,IACtEF,OAAOC,iBAAiB,WAAYtH,KAAK2D,eAAgB,CAAE4D,SAAS,IACpEF,OAAOC,iBAAiB,cAAetH,KAAK2D,eAAgB,CAAE4D,SAAS,IACvEF,OAAOC,iBAAiB,UAAWtH,KAAKmE,cAAe,CAAEoD,SAAS,IAClEF,OAAOC,iBAAiB,QAAStH,KAAKoE,YAAa,CAAEmD,SAAS,IAC9D,UAAAvH,KAAKoD,SAASoE,eAAd,SAAuBF,iBAAiB,eAAgBtH,KAAKV,cAE7D,IADA,IAAImI,EAAQ,eAAQzH,KAAK2E,OAChBnE,GAAK,EAAGA,GAAK,EAAGA,IACxB,IAAK,IAAII,GAAK,EAAGA,GAAK,EAAGA,IACxB6G,EAAQ,2BAAQA,GAAazH,KAAKsD,SAAS9C,EAAGI,EAAG6G,IAGnDzH,KAAK+F,SAAL,eACM0B,IACL,WACC,QAAwC/C,IAApC,EAAKC,MAAML,IAAI,EAAKK,MAAMC,MAAqB,CAAC,IAAD,EAC5C8C,EAAG,UAAG,EAAK/C,MAAML,IAAI,EAAKK,MAAMC,aAA7B,aAAG,EAAiC+C,OAAO,EAAKhD,MAAM3D,YAC/D4G,YACC,kCAAM,EAAKxE,SAASoE,eAApB,aAAM,EAAuBK,cAC5B,IAAIC,YAAY,eACf,CAAEpI,OAAQ,CAAEhC,EAAC,OAAEgK,QAAF,IAAEA,OAAF,EAAEA,EAAKhK,EAAGC,EAAC,OAAE+J,QAAF,IAAEA,OAAF,EAAEA,EAAK/J,QACjC,EAAKF,MAAMsK,iBAtRjB,sBA2RC,SAASrK,EAAWC,GAAY,IAEzBqK,EADUhI,KAAK2E,MAAbpF,IACUmC,KAAKY,MAAM5E,EPvWN,GOuWuB,IAAMgE,KAAKY,MAAM3E,EPvWxC,IOwWvB,YAAc+G,IAAVsD,EACI,EAEDA,EAAM/I,UAAU0D,EAAQjF,EP3WR,IO2WuBiF,EAAQhF,EP3W/B,MO0EzB,sBAmSC,SAASsK,GAAqC,IACrCvK,EAASuK,EAATvK,EAAGC,EAAMsK,EAANtK,EACHoF,EAAc/C,KAAK2E,MAAnB5B,UAFoC,EAGX/C,KAAKvC,MAA9BoC,EAHoC,EAGpCA,UACR,GAJ4C,EAGzBqI,UACJ,CACd,IAAMjF,EAAejD,KAAKiE,sBAC1B,OAAkB,IAAdlB,EACI,CAAEjF,KAAK,EAAMmF,gBAEd,CAAEnF,KAAK,EAAOmF,gBAErB,IAAMkF,EAAQnI,KAAKJ,SAASlC,EAAGC,GAC/B,GAAc,IAAVwK,EACH,MAAO,CAAErK,KAAK,EAAOmF,aAAc,IACpC,IAAK,IAAIzC,EAAI,EAAGA,EAAIX,EAAWW,IAAK,CAEnC,IADA,IAAI4H,EAAU,GACLxH,EAAI,EAAGA,EAAIf,EAAWe,IAAK,CACnC,IAAIyH,EAAIrI,KAAKJ,SAASlC,EAAI8C,EAAII,EAAGjD,GACjC,QAAU+G,IAAN2D,EACH,MACD,GAAIA,IAAMF,EACT,MACDC,EAAQpG,KAAMtE,EAAI8C,EAAII,EAAK,IAAMjD,GAElC,GAAIyK,EAAQnG,SAAWpC,EAEtB,OADAuI,EAAQhH,SAAQ,SAACC,GAAD,uBAAOiH,SAASC,eAAelH,UAA/B,aAAO,EAA4BmH,UAAUC,IAAI,iBAC1D,CAAE3K,KAAK,EAAMmF,aAAc,IAGpC,IAAK,IAAIzC,EAAI,EAAGA,EAAIX,EAAWW,IAAK,CAEnC,IADA,IAAI4H,EAAU,GACLxH,EAAI,EAAGA,EAAIf,EAAWe,IAAK,CACnC,IAAMyH,EAAIrI,KAAKJ,SAASlC,EAAGC,EAAI6C,EAAII,GACnC,QAAU8D,IAAN2D,EACH,MACD,GAAIA,IAAMF,EACT,MACDC,EAAQpG,KAAKtE,EAAI,KAAOC,EAAI6C,EAAII,IAEjC,GAAIwH,EAAQnG,SAAWpC,EAEtB,OADAuI,EAAQhH,SAAQ,SAACC,GAAD,uBAAOiH,SAASC,eAAelH,UAA/B,aAAO,EAA4BmH,UAAUC,IAAI,iBAC1D,CAAE3K,KAAK,EAAMmF,aAAc,IAGpC,IAAK,IAAIzC,EAAI,EAAGA,EAAIX,EAAWW,IAAK,CAEnC,IADA,IAAI4H,EAAU,GACLxH,EAAI,EAAGA,EAAIf,EAAWe,IAAK,CACnC,IAAIyH,EAAIrI,KAAKJ,SAASlC,EAAI8C,EAAII,EAAGjD,EAAI6C,EAAII,GACzC,QAAU8D,IAAN2D,EACH,MACD,GAAIA,IAAMF,EACT,MACDC,EAAQpG,KAAMtE,EAAI8C,EAAII,EAAK,KAAOjD,EAAI6C,EAAII,IAE3C,GAAIwH,EAAQnG,SAAWpC,EAEtB,OADAuI,EAAQhH,SAAQ,SAACC,GAAD,uBAAOiH,SAASC,eAAelH,UAA/B,aAAO,EAA4BmH,UAAUC,IAAI,iBAC1D,CAAE3K,KAAK,EAAMmF,aAAc,IAGpC,IAAK,IAAIzC,EAAI,EAAGA,EAAIX,EAAWW,IAAK,CAEnC,IADA,IAAI4H,EAAU,GACLxH,EAAI,EAAGA,EAAIf,EAAWe,IAAK,CACnC,IAAIyH,EAAIrI,KAAKJ,SAASlC,EAAI8C,EAAII,EAAGjD,EAAI6C,EAAII,GACzC,QAAU8D,IAAN2D,EACH,MACD,GAAIA,IAAMF,EACT,MACDC,EAAQpG,KAAMtE,EAAI8C,EAAII,EAAK,KAAOjD,EAAI6C,EAAII,IAE3C,GAAIwH,EAAQnG,SAAWpC,EAEtB,OADAuI,EAAQhH,SAAQ,SAACC,GAAD,uBAAOiH,SAASC,eAAelH,UAA/B,aAAO,EAA4BmH,UAAUC,IAAI,iBAC1D,CAAE3K,KAAK,EAAMmF,aAAc,IAIrC,MAAO,CAAEnF,KAAK,EAAOmF,aAAc,MA9WrC,sBAgXC,SAASgF,GAAgD,IAAD,SACZjI,KAAKvC,MAAxCS,EAD+C,EAC/CA,OAAQgK,EADuC,EACvCA,UAAW3D,EAD4B,EAC5BA,YAD4B,EAE1BvE,KAAK2E,MAA1B3D,EAF+C,EAE/CA,WAAY4D,EAFmC,EAEnCA,KAFmC,EAGzB5E,KAAK0I,SAAST,GAApCnK,EAH+C,EAG/CA,IAAKmF,EAH0C,EAG1CA,aACTwE,EAAQ,2BAAQzH,KAAK2E,OAAb,IAAoB1B,iBAChC,GAAInF,EAAK,CACR,IAAM6K,EACLhG,EACEuF,EACAjF,EAAa1D,KAAI,SAAC8B,EAAGb,GAAJ,MAAW,CAAEa,IAAGb,QAAMoI,MAAK,SAACnD,EAAGC,GAAJ,OAAUA,EAAErE,EAAIoE,EAAEpE,KAAG,GAAGb,EAClEoE,EAAO,EACVL,GAEFvD,EAAWI,SAAQ,SAAA6E,GAClB,IAAI4C,EAAUP,SAASC,eAAetC,EAAUvI,EAAI,IAAMuI,EAAUtI,GACpEkL,EAAQL,UAAUC,IAAI,iBACtB,IAAIK,EAAS,GACsC,SAA/CzB,OAAO0B,iBAAiBF,GAASG,WACpCF,EAAO9G,KAAKqF,OAAO0B,iBAAiBF,GAASG,WAEM,IAAhD,EAAKpJ,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IAC5CmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,eAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IACO,IAAhD,EAAKiC,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IACW,IAApD,EAAKiC,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,EAAI,IAChDmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,eAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IAC5CmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,eAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IACO,IAAhD,EAAKiC,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IACW,IAApD,EAAKiC,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,EAAI,IAChDmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,gBAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IAC5CmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,gBAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IACO,IAAhD,EAAKiC,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IACW,IAApD,EAAKiC,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,EAAI,IAChDmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,gBAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IAC5CmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,gBAEmD,IAAhD,EAAK/I,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,IACO,IAAhD,EAAKiC,SAASqG,EAAUvI,EAAGuI,EAAUtI,EAAI,IACW,IAApD,EAAKiC,SAASqG,EAAUvI,EAAI,EAAGuI,EAAUtI,EAAI,IAChDmL,EAAO9G,KAAP,UAAe9D,EAAOa,aAAa4J,GAAnC,iBAEDE,EAAQxK,MAAM2K,UAAYF,EAAOG,KAAK,SAEvCjJ,KAAK+F,SAAL,2BAAmB0B,GAAnB,IAA6B3J,KAAK,SAC5B,CAGN,IAFA,IAAMsB,EAASsC,KAAKY,MAAM2F,EAASvK,EPlfb,GOmfhB2B,EAASqC,KAAKY,MAAM2F,EAAStK,EPnfb,GOofb6C,GAAK,EAAGA,GAAK,EAAGA,IACxB,IAAK,IAAII,GAAK,EAAGA,GAAK,EAAGA,IACd,IAANJ,GAAiB,IAANI,IACf6G,EAAQ,2BAAQA,GAAazH,KAAKsD,SAASlE,EAASoB,EAAGnB,EAASuB,EAAG6G,KAGrEzH,KAAK+F,SAAS0B,GAAU,WACvB,QAAwC/C,IAApC,EAAKC,MAAML,IAAI,EAAKK,MAAMC,MAAqB,CAAC,IAAD,EAC5C8C,EAAG,UAAG,EAAK/C,MAAML,IAAI,EAAKK,MAAMC,aAA7B,aAAG,EAAiC+C,OAAO,EAAKhD,MAAM3D,YAC/D4G,YACC,kCAAM,EAAKxE,SAASoE,eAApB,aAAM,EAAuBK,cAC5B,IAAIC,YAAY,eACf,CAAEpI,OAAQ,CAAEhC,EAAC,OAAEgK,QAAF,IAAEA,OAAF,EAAEA,EAAKhK,EAAGC,EAAC,OAAE+J,QAAF,IAAEA,OAAF,EAAEA,EAAK/J,QACjC,EAAKF,MAAMsK,kBAvbjB,0BA4bC,SAAa1G,GAAS,IAAD,WACHA,EAAE3B,OAAXhC,EADY,EACZA,EAAGC,EADS,EACTA,EAEX,UAAA2K,SAASC,eAAe7K,EAAI,IAAMC,UAAlC,SAAsC6K,UAAUC,IAAI,iBAHhC,MAKWzI,KAAK2E,MAA9BpF,EALc,EAKdA,IAAKqF,EALS,EAKTA,KAAM7B,EALG,EAKHA,UACX3C,EAAIwE,EAAO,EACboD,EAAQzI,EAAImC,KAAKY,MAAM5E,EP7gBJ,GO6gBqB,IAAMgE,KAAKY,MAAM3E,EP7gBtC,IO8gBvBqK,EAAM/I,UAAU0D,EAAQjF,EP9gBD,IO8gBgBiF,EAAQhF,EP9gBxB,IO8gByCyC,EAChEJ,KAAK+F,SAAS,CACbxG,IAAI,2BACAA,GADD,kBAEDmC,KAAKY,MAAM5E,EPlhBS,GOkhBQ,IAAMgE,KAAKY,MAAM3E,EPlhBzB,GOkhB0CqK,IAEhEhH,WAAW,GAAD,mBAAMhB,KAAK2E,MAAM3D,YAAjB,CAA6B,CAAEtD,IAAGC,IAAGyC,OAC/CwE,MAAOA,EAAO,GAAK5E,KAAKvC,MAAM8G,YAC9BxB,UAAWA,GAAa6B,IAAS5E,KAAKvC,MAAM8G,YAAc,EAAI,EAAI,KAChE,WACF,EAAKhB,SAAS,CAAE7F,IAAGC,IAAGyC,WA9czB,sBAidC,SAAS1C,EAAWC,EAAW8J,GAAuB,IAAD,EACNA,GAAYzH,KAAK2E,MAAzDpF,EAD8C,EAC9CA,IAAKwF,EADyC,EACzCA,KAAME,EADmC,EACnCA,KAAMD,EAD6B,EAC7BA,MAAOE,EADsB,EACtBA,MAAOjH,EADe,EACfA,KAC/B4G,EAAgC5G,EAAhC4G,QAASC,EAAuB7G,EAAvB6G,QAAS3G,EAAcF,EAAdE,UACxB,QAAyBuG,IAArBnF,EAAI7B,EAAI,IAAMC,GAAlB,CAIA,IADA,IAAIsB,EAAwB,GACnBuB,EAAI,EAAGA,EPliBO,EOkiBQA,IAAK,CACnCvB,EAAUuB,GAAK,GACf,IAAK,IAAII,EAAI,EAAGA,EPpiBM,EOoiBSA,IAC9B3B,EAAUuB,GAAGI,GAAK,EAwBpB,OArBArB,EAAI,GAAD,OAAI7B,EAAJ,YAASC,IAAO,CAClBD,EAAGA,EACHC,EAAGA,EACHsB,aAEGvB,EAAIqH,IACPA,EAAOrH,EACPmH,GP/iBsB,EO+iBC1G,EAAY,GAEhCR,EAAIsH,IACPA,EAAOtH,EACPmH,GPnjBsB,EOmjBC3G,EAAY,GAEhCT,EAAIsH,IACPA,EAAQtH,EACRmH,GPvjBsB,EOujBC1G,EAAY,GAEhCR,EAAIuH,IACPA,EAAQvH,EACRmH,GP3jBsB,EO2jBC3G,EAAY,GAE7B,CACNoB,IAAKA,EACLwF,KAAMA,EACNE,KAAMA,EACND,MAAOA,EACPE,MAAOA,EACPjH,KAAM,CACL4G,QAASA,EACTC,QAASA,EACT3G,UAAWA,OA5ff,oBAggBC,WAAU,IAAD,SACmC6B,KAAKvC,MAAxCS,EADA,EACAA,OAAQgK,EADR,EACQA,UAAW3D,EADnB,EACmBA,YADnB,EAEsHvE,KAAK2E,MAA3H1G,EAFA,EAEAA,KAAMmH,EAFN,EAEMA,WAAYE,EAFlB,EAEkBA,YAAaD,EAF/B,EAE+BA,WAAYN,EAF3C,EAE2CA,KAAME,EAFjD,EAEiDA,KAAMD,EAFvD,EAEuDA,MAAOE,EAF9D,EAE8DA,MAAOnC,EAFrE,EAEqEA,UAAWE,EAFhF,EAEgFA,aAAcnF,EAF9F,EAE8FA,IAAK8G,EAFnG,EAEmGA,KAAMrF,EAFzG,EAEyGA,IAAK+E,EAF9G,EAE8GA,IAC9GO,EAAgC5G,EAAhC4G,QAASC,EAAuB7G,EAAvB6G,QAAS3G,EAAcF,EAAdE,UACpBI,EP9kBiB,EO8kBTJ,GAAyB6G,EAAQD,EAAO,GAChDvG,EP/kBiB,EO+kBRL,GAAyB+G,EAAQD,EAAO,GACvD,OACC,sBAAKrH,GAAG,SAAR,UACC,qBAAKA,GAAG,aACPS,MAAO,CACN6K,WAAapL,EACZI,EAAOa,aAAa4D,EAASuF,EAC5BjF,EAAa1D,KAAI,SAAC8B,EAAGb,GAAJ,MAAW,CAAEa,IAAGb,QAAMoI,MAAK,SAACnD,EAAGC,GAAJ,OAAUA,EAAErE,EAAIoE,EAAEpE,KAAG,GAAGb,EAClEoE,EAAO,EAAIL,IACZrG,EAAOa,aAAa6F,MAGzB,sBAAKhH,GAAG,WAAR,UACC,wBAAQA,GAAG,UAAUI,QAAS,kBAAM,EAAKkG,WAAW,MAApD,eACA,wBAAQtG,GAAG,WAAWI,QAAS,kBAAM,EAAKkG,WAAW,EAAI,IAAzD,kBAEAgE,GAAa,cAAC,EAAD,CAAOnF,UAAWA,IAC/BmF,GAAa,cAAC,EAAD,CAAajF,aAAcA,EAAc/E,OAAQA,IAC/D,qBAAKE,UAAU,QAAQ+K,IAAKnJ,KAAKoD,SAAjC,SACC,qBACChF,UAAU,kBACVC,MAAO,CACNC,SAAU,WACVC,MAAM,GAAD,OAAKA,EAAL,MACLC,OAAO,GAAD,OAAKA,EAAL,MACN4K,UAAU,GAAD,QAAM5K,EAAS,EAAIsG,GAAWM,EAAcE,EAAY3H,EAAI0H,EAAW1H,EAAK,GAA5E,MACT0L,WAAW,GAAD,QAAM9K,EAAQ,EAAIsG,GAAWO,EAAcE,EAAY5H,EAAI2H,EAAW3H,EAAK,GAA3E,OAPZ,SAUE4L,OAAOC,OAAOhK,GAAKA,KAAI,SAAA1B,GAAK,OAC5B,cAAC,EAAD,CACCK,OAAQA,EAERgB,KAAMrB,EAAMH,EAAIqH,EAChB5F,KAAMtB,EAAMF,EAAIsH,EAChB7F,OAAQvB,EAAMH,EACd2B,OAAQxB,EAAMF,EACdsB,UAAWpB,EAAMoB,UACjBK,aAAc,EAAKA,aACnBxB,IAAKA,EACLC,mBAA6B2G,IAAdJ,EAAIM,GACnB3G,KAAMA,GATDJ,EAAMH,EAAI,IAAMG,EAAMF,iBAriBnC,GAA2BgB,IAAM6K,WC3E3BC,E,kDACL,WAAYhM,GAAQ,IAAD,8BAClB,cAAMA,IACDiM,kBAAoB,EAAKA,kBAAkBrG,KAAvB,gBAFP,E,qDAInB,SAAkBhC,EAAGzD,GACpB+L,QAAQC,IAAI,CAACvI,IAAGzD,S,oBAEjB,WAAU,IAAD,SACgCoC,KAAKvC,MAA3BG,GADV,EACAiM,SADA,EACUjM,IAAWM,GADrB,EACcY,MADd,EACqBZ,QACvB4L,EAAO5L,EAAO6L,aAAanM,GACjC,OACC,sBAAKQ,UAAU,YAAf,UACC,sBAAKA,UAAU,iBAAf,oBACSR,EAAK,KAEd,qBAAKQ,UAAU,iBAAf,SACC,cAAC0L,EAAD,CAAMhL,MAAOZ,EAAO8L,cAAcpM,OAEnC,qBAAKQ,UAAU,kBAAf,SACC,uBAAOwH,KAAK,OAAO/H,MAAOK,EAAO8L,cAAcpM,GAAKqM,SAAU,SAAC5I,GAAD,OAAO,EAAKqI,kBAAkBrI,EAAGzD,e,GApB7Ee,IAAM6K,WA2BhBU,EAAb,kDACC,WAAYzM,GAAQ,IAAD,sBAClB,cAAMA,GAEN,IADA,IAAI0M,EAAU,GACL3J,EAAI,EAAGA,EAAI/C,EAAM8G,YAAa/D,IACtC2J,EAAQnI,KAAK,CACZlD,MAAOrB,EAAMS,OAAO8L,cAAcxJ,GAClCqJ,UAAU,IANM,OASlB,EAAKlF,MAAQ,CAAEwF,WATG,EADpB,0CAYC,WACC,OACC,qBAAK/L,UAAU,OAAf,SACE4B,KAAK2E,MAAMwF,QAAQ5K,KAAI,SAAC6K,EAAQC,GAChC,OACC,cAAC,EAAD,CACCzM,GAAIyM,EACJvL,MAAOsL,EAAOtL,MACd+K,SAAUO,EAAOP,oBApBxB,GAA0BlL,IAAM6K,WC7BnBc,EAAa,SAAC7M,GAC1B,OACC,qBAAKW,UAAU,cAAcR,GAAG,UAAU2M,YAAU,UAAUC,MAAM,6BAA6BC,QAAQ,gBAAzG,SACC,sBAAM3I,KAAMrE,EAAMqB,MAAO2B,EAAE,yLCHjBiK,EAAY,SAACjN,GACzB,OACC,qBAAKW,UAAU,cAAcR,GAAG,UAAU2M,YAAU,UAAUC,MAAM,6BAA6BC,QAAQ,gBAAzG,SACC,yBAAS3I,KAAMrE,EAAMqB,MAAO6L,OAAO,mJCHzBC,EAAc,SAACnN,GAC3B,OACC,qBAAKW,UAAU,cAAcR,GAAG,UAAU2M,YAAU,UAAUC,MAAM,6BAA6BC,QAAQ,gBAAzG,SACC,sBAAM3I,KAAMrE,EAAMqB,MAAO2B,EAAE,2EAA2EoK,UAAU,sBCHtGC,EAAa,SAACrN,GAC1B,OACC,qBAAKW,UAAU,cAAcR,GAAG,UAAU2M,YAAU,UAAUC,MAAM,6BAA6BC,QAAQ,gBAAzG,SACC,sBAAM3I,KAAMrE,EAAMqB,MAAO2B,EAAE,8CC+CfsK,MA3Cf,SAAatN,GAAa,IACjB+G,EAAW/G,EAAX+G,OACF3E,EAAY2E,EAAOC,IAAI,OAASuG,SAASxG,EAAOC,IAAI,OAAkB,IAAM,EAC5EF,EAAcC,EAAOC,IAAI,SAAWuG,SAASxG,EAAOC,IAAI,SAAoB,IAAM,EAClFU,EAAQX,EAAOC,IAAI,SAAWuG,SAASxG,EAAOC,IAAI,SAAoB,IAAM,EAC5EwG,EAAQzG,EAAOC,IAAI,SAAWuG,SAASxG,EAAOC,IAAI,SAAoB,IAAM,EAElF,OAAQ4C,OAAO6D,SAASC,UACvB,QACC,OAAQ,cAAC,EAAD,CACPjN,OAAQ,CACPa,aAAc,CACb,UACA,UACA,UACA,WAEDF,YAAa,CACZyL,EACAI,EACAE,EACAE,IAGFtG,OAAQA,EACR3E,UAAWA,EACX0E,YAAaA,EACbY,MAAOA,EACP+C,UAAW/C,EAAQ,EACnB4C,UAAWkD,IAEb,IAAK,QACJ,OAAQ,cAAC,EAAD,CACPzG,OAAQA,EACR3E,UAAWA,EACX0E,YAAaA,EACbY,MAAOA,EACP+C,UAAW/C,EAAQ,EACnB4C,UAAWkD,MC/BAG,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHRQ,EAAelN,IAAMmN,MAAK,kBAAM,gCAChCC,EAAapN,IAAMmN,MAAK,kBAAM,gCAcrBE,EAZO,SAACvO,GAAD,OACpB,qCAEE,eAAC,IAAMwO,SAAP,CAAgBC,SAAU,kBAAM,yBAAhC,UACmB,YAAhBzO,EAAM0O,OAAuB,cAACN,EAAD,IACb,UAAhBpO,EAAM0O,OAAqB,cAACJ,EAAD,OAG7BtO,EAAM2O,aCXL5H,EAAS,IAAI6H,gBAAgBhF,OAAO6D,SAASoB,QAEnDC,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,CAAeN,MAAO3H,EAAOC,IAAI,UAAY,UAA7C,SACC,cAAC,EAAD,CAAKD,OAAQA,QAGf8D,SAASC,eAAe,SAMzB6C,M","file":"static/js/main.52fea77b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { ConfigType } from \"./Board\";\r\n\r\ntype SpaceProps = {\r\n\tx: number;\r\n\ty: number;\r\n\tid: string;\r\n\tvalue: number;\r\n\twin: boolean;\r\n\tcanPlayerMove: boolean;\r\n\tonClick: (e: any) => void;\r\n\tview: { spaceSize: number };\r\n\tconfig: ConfigType;\r\n};\r\n\r\nexport const Space = (props: SpaceProps) => {\r\n\tconst { x, y, id, value, win, canPlayerMove, onClick, view, config } = props;\r\n\tconst { spaceSize } = view;\r\n\treturn (<button\r\n\t\tid={id}\r\n\t\tonClick={value === 0 && !win && canPlayerMove ? onClick : () => { }}\r\n\t\tclassName=\"space\"\r\n\t\tstyle={{\r\n\t\t\tposition: \"absolute\",\r\n\t\t\twidth: `${spaceSize}px`,\r\n\t\t\theight: `${spaceSize}px`,\r\n\t\t\tleft: `${x * spaceSize}px`,\r\n\t\t\ttop: `${y * spaceSize}px`\r\n\t\t}}\r\n\t>\r\n\t\t{value > 0 && React.createElement(config.playerIcons[value - 1], { color: config.playerColors[value - 1] })}\r\n\t</button>);\r\n}","import { ConfigType } from \"./Board\";\r\nimport { Space } from \"./Space\";\r\n\r\nexport const chunkSize = 3;\r\n\r\nexport const Chunk = (props: {\r\n\tchunkX: number;\r\n\tchunkY: number;\r\n\tselectSquare: (e: any) => void;\r\n\tchunkData: number[][];\r\n\tposX: number;\r\n\tposY: number;\r\n\twin: boolean;\r\n\tcanPlayerMove: boolean;\r\n\tview: { spaceSize: number; };\r\n\tconfig: ConfigType;\r\n}) => {\r\n\tconst { chunkData, posX, posY, chunkX, chunkY, win, canPlayerMove, view, selectSquare, config } = props;\r\n\tconst { spaceSize } = view;\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"chunk\"\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\twidth: `${chunkSize * spaceSize}px`,\r\n\t\t\t\theight: `${chunkSize * spaceSize}px`,\r\n\t\t\t\tleft: `${posX * chunkSize * spaceSize}px`,\r\n\t\t\t\ttop: `${posY * chunkSize * spaceSize}px`\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{chunkData.map((col, x) => {\r\n\t\t\t\treturn col.map((cell, y) =>\r\n\t\t\t\t\t<Space\r\n\t\t\t\t\t\tkey={`${x + chunkX * chunkSize}_${y + chunkY * chunkSize}`}\r\n\t\t\t\t\t\tid={`${x + chunkX * chunkSize}_${y + chunkY * chunkSize}`}\r\n\t\t\t\t\t\tvalue={cell}\r\n\t\t\t\t\t\tx={x}\r\n\t\t\t\t\t\ty={y}\r\n\t\t\t\t\t\tonClick={() => selectSquare({ detail: { x: chunkX * chunkSize + x, y: chunkY * chunkSize + y } })}\r\n\t\t\t\t\t\twin={win}\r\n\t\t\t\t\t\tcanPlayerMove={canPlayerMove}\r\n\t\t\t\t\t\tview={view}\r\n\t\t\t\t\t\tconfig={config}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}","export class AI {\r\n\tgetValue: (x: number, y: number) => number;\r\n\twinLength: number;\r\n\ticon: number;\r\n\tpCount: number;\r\n\tconstructor(\r\n\t\tgetValue: (x: number, y: number) => number,\r\n\t\twinLength: number,\r\n\t\ticon: number,\r\n\t\tpCount: number\r\n\t) {\r\n\t\tthis.getValue = getValue;\r\n\t\tthis.winLength = winLength;\r\n\t\tthis.icon = icon;\r\n\t\tthis.pCount = pCount;\r\n\t}\r\n\tdoTurn(_: { x: number, y: number, v: number }[]): { x: number, y: number } {\r\n\t\tthrow new Error(\"Method not implemented.\");\r\n\t}\r\n}","export function countLine(x: number, y: number, v: number, dx: number, dy: number, getValue: (x: number, y: number) => number, winLength: number): number {\r\n\tlet l = 0;\r\n\tlet i = -1;\r\n\twhile (getValue(x + i * dx, y + i * dy) === v) {\r\n\t\tlet d = 0;\r\n\t\tlet nx = x + i * dx;\r\n\t\tlet ny = y + i * dy;\r\n\t\twhile (getValue(nx, ny) === v || (nx === x && ny === y)) {\r\n\t\t\td++;\r\n\t\t\tnx += dx;\r\n\t\t\tny += dy;\r\n\t\t}\r\n\t\tif (d < winLength) {\r\n\t\t\tfor (let j = d; j <= winLength; j++) {\r\n\t\t\t\tlet nx2 = x + (i + j) * dx;\r\n\t\t\t\tlet ny2 = y + (i + j) * dy;\r\n\t\t\t\tif (getValue(nx2, ny2) !== v && getValue(nx2, ny2) !== 0) {\r\n\t\t\t\t\td = 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (d > l) {\r\n\t\t\tl = d;\r\n\t\t}\r\n\t\ti--;\r\n\t}\r\n\treturn l;\r\n}","import { AI } from \"../AI\";\r\nimport { countLine } from \"./utils\";\r\n\r\nexport class Fuzzy extends AI {\r\n\tdoTurn(placements: { x: number, y: number, v: number }[]) {\r\n\t\tlet highAtt = 0;\r\n\t\tlet highDef = 0;\r\n\t\tlet heatMap: { x: number; y: number; att: number; def: number; }[] = [];\r\n\t\tplacements.forEach(e => {\r\n\t\t\tfor (let x = -1; x <= 1; x++) {\r\n\t\t\t\tfor (let y = -1; y <= 1; y++) {\r\n\t\t\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.getValue(e.x + x, e.y + y) !== 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\theatMap.forEach(h => {\r\n\t\t\t\t\t\tif (h.x === e.x + x && h.y === e.y + y) {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\tx: e.x + x,\r\n\t\t\t\t\t\ty: e.y + y,\r\n\t\t\t\t\t\tatt: Math.max(\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, -1, this.getValue, this.winLength)),\r\n\t\t\t\t\t\tdef: Math.max(...Array(this.pCount).fill(0).map((_, i) => {\r\n\t\t\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, -1, this.getValue, this.winLength))\r\n\t\t\t\t\t\t}).filter((_, i) => i !== this.icon - 1))\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (o.att > highAtt) {\r\n\t\t\t\t\t\thighAtt = o.att;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.def > highDef) {\r\n\t\t\t\t\t\thighDef = o.def;\r\n\t\t\t\t\t}\r\n\t\t\t\t\theatMap.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (heatMap.length === 0) {\r\n\t\t\treturn { x: 0, y: 0 };\r\n\t\t} else {\r\n\t\t\tlet maxDef = 0;\r\n\t\t\tlet maxAtt = 0;\r\n\t\t\tlet attMap = heatMap.filter(e => e.att === highAtt);\r\n\t\t\tattMap.forEach(e => {\r\n\t\t\t\tif (e.def > maxDef) {\r\n\t\t\t\t\tmaxDef = e.def;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tattMap = attMap.filter(e => e.def === maxDef);\r\n\t\t\tlet defMap = heatMap.filter(e => e.def === highDef);\r\n\t\t\tdefMap.forEach(e => {\r\n\t\t\t\tif (e.att > maxAtt) {\r\n\t\t\t\t\tmaxAtt = e.att;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdefMap = defMap.filter(e => e.att === maxAtt);\r\n\t\t\tif (highAtt >= this.winLength) {\r\n\t\t\t\treturn attMap[Math.floor(Math.random() * attMap.length)];\r\n\t\t\t}\r\n\t\t\tif (highDef >= this.winLength) {\r\n\t\t\t\treturn defMap[Math.floor(Math.random() * defMap.length)];\r\n\t\t\t}\r\n\t\t\treturn highAtt >= highDef ? attMap[Math.floor(Math.random() * attMap.length)] : defMap[Math.floor(Math.random() * defMap.length)];\r\n\t\t}\r\n\t}\r\n}","import { AI } from \"../AI\";\r\nimport { countLine } from \"./utils\";\r\n\r\nexport class Elk extends AI {\r\n\tdoTurn(placements: { x: number, y: number, v: number }[]) {\r\n\t\tlet highAtt = 0;\r\n\t\tlet highDef = 0;\r\n\t\tlet heatMap: { x: number; y: number; att: number; def: number; }[] = [];\r\n\t\tplacements.forEach(e => {\r\n\t\t\tfor (let x = -1; x <= 1; x++) {\r\n\t\t\t\tfor (let y = -1; y <= 1; y++) {\r\n\t\t\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.getValue(e.x + x, e.y + y) !== 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\theatMap.forEach(h => {\r\n\t\t\t\t\t\tif (h.x === e.x + x && h.y === e.y + y) {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\tx: e.x + x,\r\n\t\t\t\t\t\ty: e.y + y,\r\n\t\t\t\t\t\tatt: Math.max(\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, -1, this.getValue, this.winLength)),\r\n\t\t\t\t\t\tdef: Math.max(...Array(this.pCount).fill(0).map((_, i) => {\r\n\t\t\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, -1, this.getValue, this.winLength))\r\n\t\t\t\t\t\t}).filter((_, i) => i !== this.icon - 1))\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (o.att > highAtt) {\r\n\t\t\t\t\t\thighAtt = o.att;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.def > highDef) {\r\n\t\t\t\t\t\thighDef = o.def;\r\n\t\t\t\t\t}\r\n\t\t\t\t\theatMap.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (heatMap.length === 0) {\r\n\t\t\treturn { x: 0, y: 0 };\r\n\t\t} else {\r\n\t\t\tlet maxDef = 0;\r\n\t\t\tlet maxAtt = 0;\r\n\t\t\tlet attMap = heatMap.filter(e => e.att === highAtt);\r\n\t\t\tattMap.forEach(e => {\r\n\t\t\t\tif (e.def > maxDef) {\r\n\t\t\t\t\tmaxDef = e.def;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tattMap = attMap.filter(e => e.def === maxDef);\r\n\t\t\tlet defMap = heatMap.filter(e => e.def === highDef);\r\n\t\t\tdefMap.forEach(e => {\r\n\t\t\t\tif (e.att > maxAtt) {\r\n\t\t\t\t\tmaxAtt = e.att;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdefMap = defMap.filter(e => e.att === maxAtt);\r\n\t\t\treturn (highAtt - highDef) > 0 ? attMap[Math.floor(Math.random() * attMap.length)] : defMap[Math.floor(Math.random() * defMap.length)];\r\n\t\t}\r\n\t}\r\n}","import { AI } from \"../AI\";\r\nimport { countLine } from \"./utils\";\r\n\r\nexport class ElkAtt extends AI {\r\n\tdoTurn(placements: { x: number, y: number, v: number }[]) {\r\n\t\tlet highAtt = 0;\r\n\t\tlet highDef = 0;\r\n\t\tlet heatMap: { x: number; y: number; att: number; def: number; }[] = [];\r\n\t\tplacements.forEach(e => {\r\n\t\t\tfor (let x = -1; x <= 1; x++) {\r\n\t\t\t\tfor (let y = -1; y <= 1; y++) {\r\n\t\t\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.getValue(e.x + x, e.y + y) !== 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\theatMap.forEach(h => {\r\n\t\t\t\t\t\tif (h.x === e.x + x && h.y === e.y + y) {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\tx: e.x + x,\r\n\t\t\t\t\t\ty: e.y + y,\r\n\t\t\t\t\t\tatt: Math.max(\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, -1, this.getValue, this.winLength)),\r\n\t\t\t\t\t\tdef: Math.max(...Array(this.pCount).fill(0).map((_, i) => {\r\n\t\t\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, -1, this.getValue, this.winLength))\r\n\t\t\t\t\t\t}).filter((_, i) => i !== this.icon - 1))\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (o.att > highAtt) {\r\n\t\t\t\t\t\thighAtt = o.att;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.def > highDef) {\r\n\t\t\t\t\t\thighDef = o.def;\r\n\t\t\t\t\t}\r\n\t\t\t\t\theatMap.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (heatMap.length === 0) {\r\n\t\t\treturn { x: 0, y: 0 };\r\n\t\t} else {\r\n\t\t\tlet maxDef = 0;\r\n\t\t\tlet maxAtt = 0;\r\n\t\t\tlet attMap = heatMap.filter(e => e.att === highAtt);\r\n\t\t\tattMap.forEach(e => {\r\n\t\t\t\tif (e.def > maxDef) {\r\n\t\t\t\t\tmaxDef = e.def;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tattMap = attMap.filter(e => e.def === maxDef);\r\n\t\t\tlet defMap = heatMap.filter(e => e.def === highDef);\r\n\t\t\tdefMap.forEach(e => {\r\n\t\t\t\tif (e.att > maxAtt) {\r\n\t\t\t\t\tmaxAtt = e.att;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdefMap = defMap.filter(e => e.att === maxAtt);\r\n\t\t\treturn (highAtt - highDef) > -1 ? attMap[Math.floor(Math.random() * attMap.length)] : defMap[Math.floor(Math.random() * defMap.length)];\r\n\t\t}\r\n\t}\r\n}","import { AI } from \"../AI\";\r\nimport { countLine } from \"./utils\";\r\n\r\nexport class ElkDef extends AI {\r\n\tdoTurn(placements: { x: number, y: number, v: number }[]) {\r\n\t\tlet highAtt = 0;\r\n\t\tlet highDef = 0;\r\n\t\tlet heatMap: { x: number; y: number; att: number; def: number; }[] = [];\r\n\t\tplacements.forEach(e => {\r\n\t\t\tfor (let x = -1; x <= 1; x++) {\r\n\t\t\t\tfor (let y = -1; y <= 1; y++) {\r\n\t\t\t\t\tif (x === 0 && y === 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.getValue(e.x + x, e.y + y) !== 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\theatMap.forEach(h => {\r\n\t\t\t\t\t\tif (h.x === e.x + x && h.y === e.y + y) {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet o = {\r\n\t\t\t\t\t\tx: e.x + x,\r\n\t\t\t\t\t\ty: e.y + y,\r\n\t\t\t\t\t\tatt: Math.max(\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, this.icon, 1, -1, this.getValue, this.winLength)),\r\n\t\t\t\t\t\tdef: Math.max(...Array(this.pCount).fill(0).map((_, i) => {\r\n\t\t\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, 0, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, -1, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 0, -1, this.getValue, this.winLength),\r\n\t\t\t\t\t\t\t\tcountLine(e.x + x, e.y + y, i + 1, 1, -1, this.getValue, this.winLength))\r\n\t\t\t\t\t\t}).filter((_, i) => i !== this.icon - 1))\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (o.att > highAtt) {\r\n\t\t\t\t\t\thighAtt = o.att;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (o.def > highDef) {\r\n\t\t\t\t\t\thighDef = o.def;\r\n\t\t\t\t\t}\r\n\t\t\t\t\theatMap.push(o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (heatMap.length === 0) {\r\n\t\t\treturn { x: 0, y: 0 };\r\n\t\t} else {\r\n\t\t\tlet maxDef = 0;\r\n\t\t\tlet maxAtt = 0;\r\n\t\t\tlet attMap = heatMap.filter(e => e.att === highAtt);\r\n\t\t\tattMap.forEach(e => {\r\n\t\t\t\tif (e.def > maxDef) {\r\n\t\t\t\t\tmaxDef = e.def;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tattMap = attMap.filter(e => e.def === maxDef);\r\n\t\t\tlet defMap = heatMap.filter(e => e.def === highDef);\r\n\t\t\tdefMap.forEach(e => {\r\n\t\t\t\tif (e.att > maxAtt) {\r\n\t\t\t\t\tmaxAtt = e.att;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdefMap = defMap.filter(e => e.att === maxAtt);\r\n\t\t\treturn (highAtt - highDef) > 1 ? attMap[Math.floor(Math.random() * attMap.length)] : defMap[Math.floor(Math.random() * defMap.length)];\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport { Chunk, chunkSize } from './Chunk';\r\nimport { Fuzzy } from './ais/Fuzzy';\r\nimport { AI } from './AI';\r\nimport { Elk } from './ais/Elk';\r\nimport { ElkAtt } from './ais/ElkAtt';\r\nimport { ElkDef } from './ais/ElkDef';\r\n\r\nexport type ConfigType = {\r\n\tplayerIcons: any[];\r\n\tplayerColors: string[];\r\n};\r\n\r\nfunction flatten(x: number, d: number): number {\r\n\twhile (x < 0)\r\n\t\tx += d;\r\n\treturn x % d;\r\n}\r\n\r\n/* carter code */\r\nfunction fib(n: number): number {\r\n\tif (n === 1 || n === 0)\r\n\t\treturn n;\r\n\telse\r\n\t\treturn fib(n - 2) + fib(n - 1);\r\n}\r\n\r\nconst Limit = (props: { moveLimit: number }) => {\r\n\treturn (<div id=\"limit-dialog\">Turns Left: {props.moveLimit}</div>);\r\n}\r\n\r\nconst ScoreScreen = (props: { playerScores: number[], config: ConfigType }) => {\r\n\treturn (\r\n\t\t<div id=\"score-dialog\">\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{props.playerScores.map((score, i) => <tr key={i}><td style={{ width: \"40px\" }}>{React.createElement(props.config.playerIcons[i], { color: props.config.playerColors[i] })}</td><td>{score}</td></tr>)}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\ntype BoardProps = {\r\n\tparams: any;\r\n\tplayerCount: number;\r\n\twinLength: number;\r\n\tlimit: number;\r\n\tturnDelay: number;\r\n\tisLimited: boolean;\r\n\tconfig: ConfigType;\r\n};\r\n\r\ntype BoardState = {\r\n\tmap: { [key: string]: { x: number, y: number, chunkData: number[][] } };\r\n\tplacements: { x: number, y: number, v: number }[];\r\n\tturn: number;\r\n\tAIs: (AI | undefined)[];\r\n\twin: boolean;\r\n\tview: {\r\n\t\toffsetX: number;\r\n\t\toffsetY: number;\r\n\t\tspaceSize: number;\r\n\t};\r\n\txLow: number;\r\n\txHigh: number;\r\n\tyLow: number;\r\n\tyHigh: number;\r\n\tplayerScores: number[];\r\n\tmoveLimit: number;\r\n\tisTouching: boolean;\r\n\ttouchStart: { x: number, y: number };\r\n\ttouchOffset: { x: number, y: number };\r\n\tshiftScroll: boolean;\r\n\tctrlScroll: boolean;\r\n};\r\n\r\nexport class Board extends React.Component<BoardProps, BoardState> {\r\n\tboardRef: React.RefObject<HTMLDivElement>;\r\n\tconstructor(props: BoardProps) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.getValue = this.getValue.bind(this);\r\n\t\tthis.addChunk = this.addChunk.bind(this);\r\n\t\tthis.selectSquare = this.selectSquare.bind(this);\r\n\t\tthis.postMove = this.postMove.bind(this);\r\n\t\tthis.handleScroll = this.handleScroll.bind(this);\r\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\r\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\r\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\r\n\t\tthis.sharePoint = this.sharePoint.bind(this);\r\n\t\tthis.horizontalCount = this.horizontalCount.bind(this);\r\n\t\tthis.verticalCount = this.verticalCount.bind(this);\r\n\t\tthis.diagonalUp = this.diagonalUp.bind(this);\r\n\t\tthis.diagonalDown = this.diagonalDown.bind(this);\r\n\t\tthis.calculateLimitScore = this.calculateLimitScore.bind(this);\r\n\t\tthis.handleZoom = this.handleZoom.bind(this);\r\n\t\tthis.handleKeyDown = this.handleKeyDown.bind(this);\r\n\t\tthis.handleKeyUp = this.handleKeyUp.bind(this);\r\n\r\n\t\tthis.boardRef = React.createRef();\r\n\r\n\t\tlet AIs: (AI | undefined)[] = [];\r\n\t\tfor (let i = 0; i < props.playerCount; i++) {\r\n\t\t\tswitch (props.params.get(`p${i + 1}`)) {\r\n\t\t\t\tcase \"fuzzy\":\r\n\t\t\t\t\tAIs.push(new Fuzzy(this.getValue, props.winLength, i + 1, props.playerCount));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"elk\":\r\n\t\t\t\t\tAIs.push(new Elk(this.getValue, props.winLength, i + 1, props.playerCount));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"elkatt\":\r\n\t\t\t\t\tAIs.push(new ElkAtt(this.getValue, props.winLength, i + 1, props.playerCount));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"elkdef\":\r\n\t\t\t\t\tAIs.push(new ElkDef(this.getValue, props.winLength, i + 1, props.playerCount));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tAIs.push(undefined);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tmap: {},\r\n\t\t\tplacements: [],\r\n\t\t\tturn: 0,\r\n\t\t\tAIs: AIs,\r\n\t\t\twin: false,\r\n\t\t\tview: {\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\tspaceSize: 50\r\n\t\t\t},\r\n\t\t\txLow: 0,\r\n\t\t\txHigh: 0,\r\n\t\t\tyLow: 0,\r\n\t\t\tyHigh: 0,\r\n\t\t\tplayerScores: Array(props.playerCount).fill(0),\r\n\t\t\tmoveLimit: props.limit,\r\n\t\t\tisTouching: false,\r\n\t\t\ttouchStart: { x: 0, y: 0 },\r\n\t\t\ttouchOffset: { x: 0, y: 0 },\r\n\t\t\tshiftScroll: false,\r\n\t\t\tctrlScroll: false\r\n\t\t}\r\n\t}\r\n\tsharePoint(a: { x: number, y: number }[], b: { x: number, y: number }[]) {\r\n\t\tfor (let i = 0; i < a.length; i++) {\r\n\t\t\tfor (let j = 0; j < b.length; j++) {\r\n\t\t\t\tif (a[i].x === b[j].x && a[i].y === b[j].y)\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\thorizontalCount(x: number, y: number, v: number) {\r\n\t\tlet ps = [];\r\n\t\twhile (this.getValue(x, y) === v) {\r\n\t\t\tps.push({ x, y });\r\n\t\t\tx++;\r\n\t\t}\r\n\t\treturn { ps, type: 0 };\r\n\t}\r\n\tverticalCount(x: number, y: number, v: number) {\r\n\t\tlet ps = [];\r\n\t\twhile (this.getValue(x, y) === v) {\r\n\t\t\tps.push({ x, y });\r\n\t\t\ty++;\r\n\t\t}\r\n\t\treturn { ps, type: 1 };\r\n\t}\r\n\tdiagonalUp(x: number, y: number, v: number) {\r\n\t\tlet ps = [];\r\n\t\twhile (this.getValue(x, y) === v) {\r\n\t\t\tps.push({ x, y });\r\n\t\t\ty++;\r\n\t\t\tx++;\r\n\t\t}\r\n\t\treturn { ps, type: 2 };\r\n\t}\r\n\tdiagonalDown(x: number, y: number, v: number) {\r\n\t\tlet ps = [];\r\n\t\twhile (this.getValue(x, y) === v) {\r\n\t\t\tps.push({ x, y });\r\n\t\t\ty--;\r\n\t\t\tx++;\r\n\t\t}\r\n\t\treturn { ps, type: 3 };\r\n\t}\r\n\thandleZoom(v: number) {\r\n\t\tconst { offsetX, offsetY, spaceSize } = this.state.view;\r\n\t\tconst newSpaceSize = Math.max(15, Math.min(160, spaceSize * v));\r\n\t\tthis.setState({\r\n\t\t\tview: {\r\n\t\t\t\toffsetX: offsetX * (newSpaceSize / spaceSize),\r\n\t\t\t\toffsetY: offsetY * (newSpaceSize / spaceSize),\r\n\t\t\t\tspaceSize: newSpaceSize\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tcalculateLimitScore() {\r\n\t\tconst { playerCount, winLength } = this.props;\r\n\t\tconst { placements } = this.state;\r\n\t\tlet matches: { type: number, ps: { x: number, y: number }[], old?: boolean }[][] = [];\r\n\t\tfor (let i = 0; i < playerCount; i++) {\r\n\t\t\tmatches.push([]);\r\n\t\t}\r\n\t\tplacements.forEach((placement: { x: number, y: number, v: number }) => {\r\n\t\t\t[\r\n\t\t\t\tthis.horizontalCount(placement.x, placement.y, placement.v),\r\n\t\t\t\tthis.verticalCount(placement.x, placement.y, placement.v),\r\n\t\t\t\tthis.diagonalUp(placement.x, placement.y, placement.v),\r\n\t\t\t\tthis.diagonalDown(placement.x, placement.y, placement.v)\r\n\t\t\t].forEach(e => {\r\n\t\t\t\tif (e.ps.length < winLength) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet flag = false;\r\n\t\t\t\tlet removes: number[] = [];\r\n\t\t\t\tmatches[placement.v - 1].forEach((p: { type: number, ps: { x: number, y: number }[] }, i: number) => {\r\n\t\t\t\t\tif (p.type === e.type && this.sharePoint(p.ps, e.ps)) {\r\n\t\t\t\t\t\tif (p.ps.length < e.ps.length) {\r\n\t\t\t\t\t\t\tremoves.push(i);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tremoves.forEach(i => matches[placement.v - 1][i].old = true);\r\n\t\t\t\tif (!flag) {\r\n\t\t\t\t\tmatches[placement.v - 1].push(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tlet playerScores: number[] = [];\r\n\t\tmatches.map(m => m.filter(e => e.old === undefined));\r\n\t\tmatches.forEach(e => {\r\n\t\t\tlet score = 0;\r\n\t\t\te.forEach(p => {\r\n\t\t\t\tscore += fib(p.ps.length - winLength + 2);\r\n\t\t\t});\r\n\t\t\tplayerScores.push(score);\r\n\t\t});\r\n\t\treturn playerScores;\r\n\t}\r\n\thandleScroll(e: any) {\r\n\t\te.preventDefault();\r\n\t\tconst { shiftScroll, ctrlScroll } = this.state;\r\n\t\tconst { offsetX, offsetY, spaceSize } = this.state.view;\r\n\t\tif (ctrlScroll) {\r\n\t\t\tthis.handleZoom(Math.exp(e.deltaY / 200));\r\n\t\t} else {\r\n\t\t\tconst deltaX = e.deltaX * 0.25;\r\n\t\t\tconst deltaY = e.deltaY * 0.25;\r\n\t\t\tthis.setState({\r\n\t\t\t\tview: {\r\n\t\t\t\t\toffsetX: offsetX - (shiftScroll ? deltaY : deltaX),\r\n\t\t\t\t\toffsetY: offsetY - (shiftScroll ? deltaX : deltaY),\r\n\t\t\t\t\tspaceSize: spaceSize\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\thandleTouchMove(e: any) {\r\n\t\te.preventDefault();\r\n\t\tconst evt = (typeof e.originalEvent === 'undefined') ? e : e.originalEvent;\r\n\t\tconst touch = evt.touches[0] || evt.changedTouches[0];\r\n\t\tthis.setState({\r\n\t\t\ttouchOffset: { x: touch.pageX, y: touch.pageY }\r\n\t\t});\r\n\t}\r\n\thandleTouchStart(e: any) {\r\n\t\te.preventDefault();\r\n\t\tconst evt = (typeof e.originalEvent === 'undefined') ? e : e.originalEvent;\r\n\t\tconst touch = evt.touches[0] || evt.changedTouches[0];\r\n\t\tthis.setState({\r\n\t\t\tisTouching: true,\r\n\t\t\ttouchStart: { x: touch.pageX, y: touch.pageY },\r\n\t\t\ttouchOffset: { x: touch.pageX, y: touch.pageY }\r\n\t\t});\r\n\t}\r\n\thandleTouchEnd(e: any) {\r\n\t\te.preventDefault();\r\n\t\tconst evt = (typeof e.originalEvent === 'undefined') ? e : e.originalEvent;\r\n\t\tconst touch = evt.touches[0] || evt.changedTouches[0];\r\n\t\tconst { view, touchStart, touchOffset } = this.state;\r\n\t\tconst { offsetX, offsetY, spaceSize } = view;\r\n\t\tthis.setState({\r\n\t\t\tisTouching: false,\r\n\t\t\tview: {\r\n\t\t\t\toffsetX: offsetX + (touchOffset.x - touchStart.x),\r\n\t\t\t\toffsetY: offsetY + (touchOffset.y - touchStart.y),\r\n\t\t\t\tspaceSize: spaceSize\r\n\t\t\t}\r\n\t\t}, () => {\r\n\t\t\tif (Math.pow(touchStart.x - touch.pageX, 2) + Math.pow(touchStart.y - touch.pageY, 2) < 10) {\r\n\t\t\t\tif (touch.target.click !== undefined) {\r\n\t\t\t\t\ttouch.target.click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\thandleKeyDown(e: any) {\r\n\t\tswitch (e.key) {\r\n\t\t\tcase 'Shift':\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshiftScroll: true\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Control':\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tctrlScroll: true\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\thandleKeyUp(e: any) {\r\n\t\tswitch (e.key) {\r\n\t\t\tcase 'Shift':\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshiftScroll: false\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Control':\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tctrlScroll: false\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('wheel', this.handleScroll, { passive: false });\r\n\t\twindow.addEventListener('touchstart', this.handleTouchStart, { passive: false });\r\n\t\twindow.addEventListener('touchmove', this.handleTouchMove, { passive: false });\r\n\t\twindow.addEventListener('touchend', this.handleTouchEnd, { passive: false });\r\n\t\twindow.addEventListener('touchcancel', this.handleTouchEnd, { passive: false });\r\n\t\twindow.addEventListener('keydown', this.handleKeyDown, { passive: false });\r\n\t\twindow.addEventListener('keyup', this.handleKeyUp, { passive: false });\r\n\t\tthis.boardRef.current?.addEventListener('selectSquare', this.selectSquare);\r\n\t\tlet newState = { ...this.state };\r\n\t\tfor (let i = -1; i <= 1; i++) {\r\n\t\t\tfor (let j = -1; j <= 1; j++) {\r\n\t\t\t\tnewState = { ...newState, ...this.addChunk(i, j, newState) };\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState(\r\n\t\t\t{ ...newState },\r\n\t\t\t() => {\r\n\t\t\t\tif (this.state.AIs[this.state.turn] !== undefined) {\r\n\t\t\t\t\tconst pos = this.state.AIs[this.state.turn]?.doTurn(this.state.placements);\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\t() => this.boardRef.current?.dispatchEvent(\r\n\t\t\t\t\t\t\tnew CustomEvent('selectSquare',\r\n\t\t\t\t\t\t\t\t{ detail: { x: pos?.x, y: pos?.y } })),\r\n\t\t\t\t\t\tthis.props.turnDelay);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\tgetValue(x: number, y: number) {\r\n\t\tconst { map } = this.state;\r\n\t\tconst chunk = map[Math.floor(x / chunkSize) + '_' + Math.floor(y / chunkSize)];\r\n\t\tif (chunk === undefined) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn chunk.chunkData[flatten(x, chunkSize)][flatten(y, chunkSize)];\r\n\t}\r\n\tcheckWin(lastMove: { x: number, y: number }) {\r\n\t\tconst { x, y } = lastMove;\r\n\t\tconst { moveLimit } = this.state;\r\n\t\tconst { winLength, isLimited } = this.props\r\n\t\tif (isLimited) {\r\n\t\t\tconst playerScores = this.calculateLimitScore();\r\n\t\t\tif (moveLimit === 0) {\r\n\t\t\t\treturn { win: true, playerScores };\r\n\t\t\t}\r\n\t\t\treturn { win: false, playerScores };\r\n\t\t} else {\r\n\t\t\tconst check = this.getValue(x, y);\r\n\t\t\tif (check === 0)\r\n\t\t\t\treturn { win: false, playerScores: [] };\r\n\t\t\tfor (let i = 0; i < winLength; i++) {\r\n\t\t\t\tlet squares = [];\r\n\t\t\t\tfor (let j = 0; j < winLength; j++) {\r\n\t\t\t\t\tlet s = this.getValue(x - i + j, y);\r\n\t\t\t\t\tif (s === undefined)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tif (s !== check)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tsquares.push((x - i + j) + \"_\" + y);\r\n\t\t\t\t}\r\n\t\t\t\tif (squares.length === winLength) {\r\n\t\t\t\t\tsquares.forEach((e) => document.getElementById(e)?.classList.add(\"win-square\"));\r\n\t\t\t\t\treturn { win: true, playerScores: [] };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < winLength; i++) {\r\n\t\t\t\tlet squares = [];\r\n\t\t\t\tfor (let j = 0; j < winLength; j++) {\r\n\t\t\t\t\tconst s = this.getValue(x, y - i + j);\r\n\t\t\t\t\tif (s === undefined)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tif (s !== check)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tsquares.push(x + \"_\" + (y - i + j));\r\n\t\t\t\t}\r\n\t\t\t\tif (squares.length === winLength) {\r\n\t\t\t\t\tsquares.forEach((e) => document.getElementById(e)?.classList.add(\"win-square\"));\r\n\t\t\t\t\treturn { win: true, playerScores: [] };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < winLength; i++) {\r\n\t\t\t\tlet squares = [];\r\n\t\t\t\tfor (let j = 0; j < winLength; j++) {\r\n\t\t\t\t\tlet s = this.getValue(x - i + j, y - i + j);\r\n\t\t\t\t\tif (s === undefined)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tif (s !== check)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tsquares.push((x - i + j) + \"_\" + (y - i + j));\r\n\t\t\t\t}\r\n\t\t\t\tif (squares.length === winLength) {\r\n\t\t\t\t\tsquares.forEach((e) => document.getElementById(e)?.classList.add(\"win-square\"));\r\n\t\t\t\t\treturn { win: true, playerScores: [] };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < winLength; i++) {\r\n\t\t\t\tlet squares = [];\r\n\t\t\t\tfor (let j = 0; j < winLength; j++) {\r\n\t\t\t\t\tlet s = this.getValue(x - i + j, y + i - j);\r\n\t\t\t\t\tif (s === undefined)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tif (s !== check)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tsquares.push((x - i + j) + \"_\" + (y + i - j));\r\n\t\t\t\t}\r\n\t\t\t\tif (squares.length === winLength) {\r\n\t\t\t\t\tsquares.forEach((e) => document.getElementById(e)?.classList.add(\"win-square\"));\r\n\t\t\t\t\treturn { win: true, playerScores: [] };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { win: false, playerScores: [] };\r\n\t}\r\n\tpostMove(lastMove: { x: number, y: number, v: number }) {\r\n\t\tconst { config, isLimited, playerCount } = this.props;\r\n\t\tconst { placements, turn } = this.state;\r\n\t\tconst { win, playerScores } = this.checkWin(lastMove);\r\n\t\tlet newState = { ...this.state, playerScores };\r\n\t\tif (win) {\r\n\t\t\tconst winner =\r\n\t\t\t\tflatten(\r\n\t\t\t\t\t(isLimited ?\r\n\t\t\t\t\t\tplayerScores.map((e, i) => ({ e, i })).sort((a, b) => b.e - a.e)[0].i\r\n\t\t\t\t\t\t: turn - 1),\r\n\t\t\t\t\tplayerCount\r\n\t\t\t\t);\r\n\t\t\tplacements.forEach(placement => {\r\n\t\t\t\tlet element = document.getElementById(placement.x + \"_\" + placement.y) as HTMLElement;\r\n\t\t\t\telement.classList.add(\"amoeba-square\");\r\n\t\t\t\tlet shadow = [];\r\n\t\t\t\tif (window.getComputedStyle(element).boxShadow !== \"none\") {\r\n\t\t\t\t\tshadow.push(window.getComputedStyle(element).boxShadow);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x, placement.y + 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} 0rem 5rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x + 1, placement.y) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x, placement.y + 1) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x + 1, placement.y + 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} 5rem 5rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x + 1, placement.y) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} 5rem 0rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x + 1, placement.y) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x, placement.y - 1) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x + 1, placement.y - 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} 5rem -5rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x, placement.y - 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} 0rem -5rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x - 1, placement.y) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x, placement.y + 1) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x - 1, placement.y + 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} -5rem 5rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x - 1, placement.y) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} -5rem 0rem`);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.getValue(placement.x - 1, placement.y) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x, placement.y - 1) === 0\r\n\t\t\t\t\t&& this.getValue(placement.x - 1, placement.y - 1) === 0) {\r\n\t\t\t\t\tshadow.push(`${config.playerColors[winner]} -5rem -5rem`);\r\n\t\t\t\t}\r\n\t\t\t\telement.style.boxShadow = shadow.join(\", \");\r\n\t\t\t});\r\n\t\t\tthis.setState({ ...newState, win: true });\r\n\t\t} else {\r\n\t\t\tconst chunkX = Math.floor(lastMove.x / chunkSize);\r\n\t\t\tconst chunkY = Math.floor(lastMove.y / chunkSize);\r\n\t\t\tfor (let i = -1; i <= 1; i++) {\r\n\t\t\t\tfor (let j = -1; j <= 1; j++) {\r\n\t\t\t\t\tif (i === 0 && j === 0) continue;\r\n\t\t\t\t\tnewState = { ...newState, ...this.addChunk(chunkX + i, chunkY + j, newState) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.setState(newState, () => {\r\n\t\t\t\tif (this.state.AIs[this.state.turn] !== undefined) {\r\n\t\t\t\t\tconst pos = this.state.AIs[this.state.turn]?.doTurn(this.state.placements);\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\t() => this.boardRef.current?.dispatchEvent(\r\n\t\t\t\t\t\t\tnew CustomEvent('selectSquare',\r\n\t\t\t\t\t\t\t\t{ detail: { x: pos?.x, y: pos?.y } })),\r\n\t\t\t\t\t\tthis.props.turnDelay);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tselectSquare(e: any) {\r\n\t\tconst { x, y } = e.detail;\r\n\r\n\t\tdocument.getElementById(x + \"_\" + y)?.classList.add(\"space-pressed\");\r\n\r\n\t\tlet { map, turn, moveLimit } = this.state;\r\n\t\tconst v = turn + 1;\r\n\t\tlet chunk = map[Math.floor(x / chunkSize) + '_' + Math.floor(y / chunkSize)];\r\n\t\tchunk.chunkData[flatten(x, chunkSize)][flatten(y, chunkSize)] = v;\r\n\t\tthis.setState({\r\n\t\t\tmap: {\r\n\t\t\t\t...map,\r\n\t\t\t\t[Math.floor(x / chunkSize) + '_' + Math.floor(y / chunkSize)]: chunk\r\n\t\t\t},\r\n\t\t\tplacements: [...this.state.placements, { x, y, v }],\r\n\t\t\tturn: (turn + 1) % this.props.playerCount,\r\n\t\t\tmoveLimit: moveLimit - (turn === this.props.playerCount - 1 ? 1 : 0)\r\n\t\t}, () => {\r\n\t\t\tthis.postMove({ x, y, v });\r\n\t\t});\r\n\t}\r\n\taddChunk(x: number, y: number, newState: BoardState) {\r\n\t\tlet { map, xLow, yLow, xHigh, yHigh, view } = newState || this.state;\r\n\t\tlet { offsetX, offsetY, spaceSize } = view;\r\n\t\tif (map[x + '_' + y] !== undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet chunkData: number[][] = [];\r\n\t\tfor (let i = 0; i < chunkSize; i++) {\r\n\t\t\tchunkData[i] = [];\r\n\t\t\tfor (let j = 0; j < chunkSize; j++) {\r\n\t\t\t\tchunkData[i][j] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tmap[`${x}_${y}`] = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tchunkData\r\n\t\t};\r\n\t\tif (x < xLow) {\r\n\t\t\txLow = x;\r\n\t\t\toffsetX -= chunkSize * spaceSize / 2;\r\n\t\t}\r\n\t\tif (y < yLow) {\r\n\t\t\tyLow = y;\r\n\t\t\toffsetY -= chunkSize * spaceSize / 2;\r\n\t\t}\r\n\t\tif (x > xHigh) {\r\n\t\t\txHigh = x;\r\n\t\t\toffsetX += chunkSize * spaceSize / 2;\r\n\t\t}\r\n\t\tif (y > yHigh) {\r\n\t\t\tyHigh = y;\r\n\t\t\toffsetY += chunkSize * spaceSize / 2;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tmap: map,\r\n\t\t\txLow: xLow,\r\n\t\t\tyLow: yLow,\r\n\t\t\txHigh: xHigh,\r\n\t\t\tyHigh: yHigh,\r\n\t\t\tview: {\r\n\t\t\t\toffsetX: offsetX,\r\n\t\t\t\toffsetY: offsetY,\r\n\t\t\t\tspaceSize: spaceSize\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\trender() {\r\n\t\tconst { config, isLimited, playerCount } = this.props;\r\n\t\tconst { view, isTouching, touchOffset, touchStart, xLow, yLow, xHigh, yHigh, moveLimit, playerScores, win, turn, map, AIs } = this.state;\r\n\t\tconst { offsetX, offsetY, spaceSize } = view;\r\n\t\tconst width = spaceSize * chunkSize * (xHigh - xLow + 1);\r\n\t\tconst height = spaceSize * chunkSize * (yHigh - yLow + 1);\r\n\t\treturn (\r\n\t\t\t<div id=\"screen\">\r\n\t\t\t\t<div id=\"player-bar\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackground: (win ?\r\n\t\t\t\t\t\t\tconfig.playerColors[flatten((isLimited ?\r\n\t\t\t\t\t\t\t\tplayerScores.map((e, i) => ({ e, i })).sort((a, b) => b.e - a.e)[0].i\r\n\t\t\t\t\t\t\t\t: turn - 1), playerCount)]\r\n\t\t\t\t\t\t\t: config.playerColors[turn])\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div id=\"zoom-bar\">\r\n\t\t\t\t\t<button id=\"zoom-in\" onClick={() => this.handleZoom(3 / 2)}>+</button>\r\n\t\t\t\t\t<button id=\"zoom-out\" onClick={() => this.handleZoom(2 / 3)}>-</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isLimited && <Limit moveLimit={moveLimit} />}\r\n\t\t\t\t{isLimited && <ScoreScreen playerScores={playerScores} config={config} />}\r\n\t\t\t\t<div className=\"board\" ref={this.boardRef}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"chunk-container\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\twidth: `${width}px`,\r\n\t\t\t\t\t\t\theight: `${height}px`,\r\n\t\t\t\t\t\t\tmarginTop: `${-height / 2 + offsetY + (isTouching ? (touchOffset.y - touchStart.y) : 0)}px`,\r\n\t\t\t\t\t\t\tmarginLeft: `${-width / 2 + offsetX + (isTouching ? (touchOffset.x - touchStart.x) : 0)}px`\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{Object.values(map).map(value =>\r\n\t\t\t\t\t\t\t<Chunk\r\n\t\t\t\t\t\t\t\tconfig={config}\r\n\t\t\t\t\t\t\t\tkey={value.x + '_' + value.y}\r\n\t\t\t\t\t\t\t\tposX={value.x - xLow}\r\n\t\t\t\t\t\t\t\tposY={value.y - yLow}\r\n\t\t\t\t\t\t\t\tchunkX={value.x}\r\n\t\t\t\t\t\t\t\tchunkY={value.y}\r\n\t\t\t\t\t\t\t\tchunkData={value.chunkData}\r\n\t\t\t\t\t\t\t\tselectSquare={this.selectSquare}\r\n\t\t\t\t\t\t\t\twin={win}\r\n\t\t\t\t\t\t\t\tcanPlayerMove={AIs[turn] === undefined}\r\n\t\t\t\t\t\t\t\tview={view}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from \"react\";\r\n\r\nclass MenuItem extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleColorChange = this.handleColorChange.bind(this);\r\n\t}\r\n\thandleColorChange(e, id) {\r\n\t\tconsole.log({e, id});\r\n\t}\r\n\trender() {\r\n\t\tconst { isPlayer, id, color, config } = this.props;\r\n\t\tconst Icon = config.player_icons[id];\r\n\t\treturn (\r\n\t\t\t<div className=\"menu-item\">\r\n\t\t\t\t<div className=\"menu-item-name\">\r\n\t\t\t\t\tPlayer {id + 1}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"menu-item-icon\">\r\n\t\t\t\t\t<Icon color={config.player_colors[id]} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"menu-item-color\">\r\n\t\t\t\t\t<input type=\"text\" value={config.player_colors[id]} onChange={(e) => this.handleColorChange(e, id)} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport class Menu extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tlet players = [];\r\n\t\tfor (let i = 0; i < props.playerCount; i++) {\r\n\t\t\tplayers.push({\r\n\t\t\t\tcolor: props.config.player_colors[i],\r\n\t\t\t\tisPlayer: true\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.state = { players };\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"menu\">\r\n\t\t\t\t{this.state.players.map((player, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\t\tcolor={player.color}\r\n\t\t\t\t\t\t\tisPlayer={player.isPlayer}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","export const CircleIcon = (props: { color: string }) => {\r\n\treturn (\r\n\t\t<svg className=\"player-icon\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n\t\t\t<path fill={props.color} d=\"M500,0C223.86,0,0,223.86,0,500s223.86,500,500,500,500-223.86,500-500S776.14,0,500,0Zm0,800c-165.69,0-300-134.31-300-300S334.31,200,500,200,800,334.31,800,500,665.69,800,500,800Z\" />\r\n\t\t</svg>\r\n\t);\r\n}","export const CrossIcon = (props: { color: string }) => {\r\n\treturn (\r\n\t\t<svg className=\"player-icon\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n\t\t\t<polygon fill={props.color} points=\"1000 858.58 641.42 500 1000 141.42 858.58 0 500 358.58 141.42 0 0 141.42 358.58 500 0 858.58 141.42 1000 500 641.42 858.58 1000 1000 858.58\" />\r\n\t\t</svg>\r\n\t);\r\n}","export const DiamondIcon = (props: { color: string }) => {\r\n\treturn (\r\n\t\t<svg className=\"player-icon\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n\t\t\t<path fill={props.color} d=\"M500,0,0,500l500,500,500-500Zm0,717.16L282.84,500,500,282.84,717.16,500Z\" transform=\"translate(0 0)\" />\r\n\t\t</svg>\r\n\t);\r\n}","export const SquareIcon = (props: { color: string }) => {\r\n\treturn (\r\n\t\t<svg className=\"player-icon\" id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\r\n\t\t\t<path fill={props.color} d=\"M0,0V1000H1000V0ZM800,800H200V200H800Z\" />\r\n\t\t</svg>\r\n\t);\r\n}","import { Board } from './Board';\nimport { Menu } from './Menu';\nimport { CircleIcon } from './assets/CircleIcon';\nimport { CrossIcon } from './assets/CrossIcon';\nimport { DiamondIcon } from './assets/DiamondIcon';\nimport { SquareIcon } from './assets/SquareIcon';\n\nfunction App(props: any) {\n\tconst { params } = props;\n\tconst winLength = params.get('win') ? parseInt(params.get('win') as string, 10) : 5;\n\tconst playerCount = params.get('count') ? parseInt(params.get('count') as string, 10) : 2;\n\tconst limit = params.get('limit') ? parseInt(params.get('limit') as string, 10) : 0;\n\tconst delay = params.get('delay') ? parseInt(params.get('delay') as string, 10) : 0;\n\n\tswitch (window.location.pathname) {\n\t\tdefault:\n\t\t\treturn (<Board\n\t\t\t\tconfig={{\n\t\t\t\t\tplayerColors: [\n\t\t\t\t\t\t'#5588ff',\n\t\t\t\t\t\t'#ff3344',\n\t\t\t\t\t\t\"#33ff44\",\n\t\t\t\t\t\t'#ffcc33'\n\t\t\t\t\t],\n\t\t\t\t\tplayerIcons: [\n\t\t\t\t\t\tCircleIcon,\n\t\t\t\t\t\tCrossIcon,\n\t\t\t\t\t\tDiamondIcon,\n\t\t\t\t\t\tSquareIcon\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t\tparams={params}\n\t\t\t\twinLength={winLength}\n\t\t\t\tplayerCount={playerCount}\n\t\t\t\tlimit={limit}\n\t\t\t\tisLimited={limit > 0}\n\t\t\t\tturnDelay={delay}\n\t\t\t/>);\n\t\tcase '/menu':\n\t\t\treturn (<Menu\n\t\t\t\tparams={params}\n\t\t\t\twinLength={winLength}\n\t\t\t\tplayerCount={playerCount}\n\t\t\t\tlimit={limit}\n\t\t\t\tisLimited={limit > 0}\n\t\t\t\tturnDelay={delay}\n\t\t\t/>);\n\t}\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\n\r\n/**\r\n * The theme components only imports it's theme CSS-file. These components are lazy\r\n * loaded, to enable \"code splitting\" (in order to avoid the themes being bundled together)\r\n */\r\nconst DefaultTheme = React.lazy(() => import('./styles/App'));\r\nconst Win98Theme = React.lazy(() => import('./styles/Win98'));\r\n\r\nconst ThemeSelector = (props: { theme: string; children: any; }) => (\r\n  <>\r\n    {/* Conditionally render theme, based on the current client context */}\r\n    <React.Suspense fallback={() => <div />}>\r\n      {props.theme === 'default' && <DefaultTheme />}\r\n      {props.theme === 'win98' && <Win98Theme />}\r\n    </React.Suspense>\r\n    {/* Render children immediately! */}\r\n    {props.children}\r\n  </>\r\n);\r\n\r\nexport default ThemeSelector;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ThemeSelector from './ThemeSelector';\n\nconst params = new URLSearchParams(window.location.search);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ThemeSelector theme={params.get('theme') || 'default'}>\n\t\t\t<App params={params} />\n\t\t</ThemeSelector>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}